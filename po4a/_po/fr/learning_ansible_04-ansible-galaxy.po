# French translations for po package
# Copyright (C) 2023 Free Software Foundation, Inc.
# This file is distributed under the same license as the po package.
# Automatically generated, 2023.
#
msgid ""
msgstr ""
"Project-Id-Version: po 4a\n"
"POT-Creation-Date: 2023-06-16 16:28+0000\n"
"PO-Revision-Date: 2023-06-16 16:28+0000\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"Language: fr\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=(n > 1);\n"

#. type: Plain text
#: ../src/docs/books/admin_guide/01-presentation.md:12
#: ../src/docs/books/admin_guide/12-network.md:12
#: ../src/docs/books/learning_ansible/01-basic.md:15
#: ../src/docs/books/learning_ansible/02-advanced.md:12
#: ../src/docs/books/learning_ansible/03-working-with-files.md:12
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:12
#: ../src/docs/books/learning_ansible/05-deployments.md:12
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:12
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:14
#: ../src/docs/books/learning_bash/01-first-script.md:19
#: ../src/docs/books/learning_bash/02-using-variables.md:19
#: ../src/docs/books/learning_bash/03-data-entry-and-manipulations.md:19
#: ../src/docs/books/learning_bash/05-tests.md:17
#: ../src/docs/books/learning_bash/06-conditional-structures.md:17
#: ../src/docs/books/learning_bash/07-loops.md:17
#, no-wrap
msgid "**Objectives**: In this chapter you will learn how to:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/04-advanced-commands.md:43
#: ../src/docs/books/admin_guide/04-advanced-commands.md:220
#: ../src/docs/books/admin_guide/04-advanced-commands.md:271
#: ../src/docs/books/admin_guide/04-advanced-commands.md:334
#: ../src/docs/books/admin_guide/05-vi.md:70
#: ../src/docs/books/admin_guide/05-vi.md:206
#: ../src/docs/books/admin_guide/05-vi.md:272
#: ../src/docs/books/admin_guide/06-users.md:36
#: ../src/docs/books/admin_guide/06-users.md:92
#: ../src/docs/books/admin_guide/06-users.md:220
#: ../src/docs/books/admin_guide/06-users.md:350
#: ../src/docs/books/admin_guide/06-users.md:598
#: ../src/docs/books/admin_guide/06-users.md:754
#: ../src/docs/books/admin_guide/06-users.md:818
#: ../src/docs/books/admin_guide/11-tasks.md:174
#: ../src/docs/books/admin_guide/12-network.md:158
#: ../src/docs/books/admin_guide/03-commands.md:516
#: ../src/docs/books/admin_guide/03-commands.md:693
#: ../src/docs/books/admin_guide/03-commands.md:1216
#: ../src/docs/books/admin_guide/03-commands.md:1262
#: ../src/docs/books/admin_guide/03-commands.md:1297
#: ../src/docs/books/admin_guide/07-file-systems.md:395
#: ../src/docs/books/admin_guide/07-file-systems.md:437
#: ../src/docs/books/admin_guide/07-file-systems.md:447
#: ../src/docs/books/admin_guide/07-file-systems.md:515
#: ../src/docs/books/admin_guide/07-file-systems.md:556
#: ../src/docs/books/admin_guide/07-file-systems.md:627
#: ../src/docs/books/admin_guide/07-file-systems.md:653
#: ../src/docs/books/admin_guide/07-file-systems.md:672
#: ../src/docs/books/admin_guide/07-file-systems.md:676
#: ../src/docs/books/admin_guide/07-file-systems.md:1019
#: ../src/docs/books/admin_guide/08-process.md:49
#: ../src/docs/books/admin_guide/08-process.md:238
#: ../src/docs/books/admin_guide/09-backups.md:27
#: ../src/docs/books/admin_guide/09-backups.md:116
#: ../src/docs/books/admin_guide/09-backups.md:133
#: ../src/docs/books/admin_guide/09-backups.md:148
#: ../src/docs/books/admin_guide/09-backups.md:281
#: ../src/docs/books/admin_guide/09-backups.md:285
#: ../src/docs/books/admin_guide/09-backups.md:301
#: ../src/docs/books/admin_guide/09-backups.md:342
#: ../src/docs/books/admin_guide/09-backups.md:352
#: ../src/docs/books/admin_guide/09-backups.md:554
#: ../src/docs/books/admin_guide/09-backups.md:771
#: ../src/docs/books/admin_guide/10-boot.md:114
#: ../src/docs/books/admin_guide/10-boot.md:153
#: ../src/docs/books/admin_guide/10-boot.md:165
#: ../src/docs/books/admin_guide/13-softwares.md:22
#: ../src/docs/books/learning_ansible/01-basic.md:51
#: ../src/docs/books/learning_ansible/01-basic.md:104
#: ../src/docs/books/learning_ansible/01-basic.md:112
#: ../src/docs/books/learning_ansible/01-basic.md:328
#: ../src/docs/books/learning_ansible/01-basic.md:415
#: ../src/docs/books/learning_ansible/01-basic.md:492
#: ../src/docs/books/learning_ansible/01-basic.md:633
#: ../src/docs/books/learning_ansible/01-basic.md:656
#: ../src/docs/books/learning_ansible/02-advanced.md:34
#: ../src/docs/books/learning_ansible/02-advanced.md:150
#: ../src/docs/books/learning_ansible/02-advanced.md:182
#: ../src/docs/books/learning_ansible/02-advanced.md:269
#: ../src/docs/books/learning_ansible/02-advanced.md:277
#: ../src/docs/books/learning_ansible/02-advanced.md:287
#: ../src/docs/books/learning_ansible/02-advanced.md:293
#: ../src/docs/books/learning_ansible/02-advanced.md:360
#: ../src/docs/books/learning_ansible/02-advanced.md:428
#: ../src/docs/books/learning_ansible/02-advanced.md:601
#: ../src/docs/books/learning_ansible/03-working-with-files.md:33
#: ../src/docs/books/learning_ansible/03-working-with-files.md:58
#: ../src/docs/books/learning_ansible/03-working-with-files.md:77
#: ../src/docs/books/learning_ansible/03-working-with-files.md:96
#: ../src/docs/books/learning_ansible/03-working-with-files.md:113
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:65
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:432
#: ../src/docs/books/learning_ansible/05-deployments.md:41
#: ../src/docs/books/learning_ansible/05-deployments.md:124
#: ../src/docs/books/learning_ansible/05-deployments.md:196
#: ../src/docs/books/learning_ansible/05-deployments.md:616
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:36
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:40
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:80
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:214
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:32
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:75
#: ../src/docs/books/learning_bash/02-using-variables.md:153
#: ../src/docs/books/learning_bash/02-using-variables.md:193
#: ../src/docs/books/learning_bash/05-tests.md:245
#: ../src/docs/books/learning_bash/07-loops.md:180
#: ../src/docs/books/lxd_server/04-firewall.md:80
#: ../src/docs/books/nvchad/plugins/md_preview.md:140
#: ../src/docs/books/nvchad/template_chadrc.md:239
#: ../src/docs/gemstones/https_rsa_keygen.md:34
#: ../src/docs/gemstones/systemd_service_for_python_script.md:80
#: ../src/docs/guides/8_6_installation.md:37
#: ../src/docs/guides/8_6_installation.md:168
#: ../src/docs/guides/8_6_installation.md:176
#: ../src/docs/guides/8_6_installation.md:182
#: ../src/docs/guides/8_6_installation.md:250
#: ../src/docs/guides/automation/olivetin.md:60
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:307
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:323
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:486
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:533
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:667
#: ../src/docs/guides/containers/lxd_web_servers.md:35
#: ../src/docs/guides/containers/lxd_web_servers.md:45
#: ../src/docs/guides/containers/lxd_web_servers.md:301
#: ../src/docs/guides/containers/lxd_web_servers.md:352
#: ../src/docs/guides/containers/lxd_web_servers.md:605
#: ../src/docs/guides/containers/lxd_web_servers.md:665
#: ../src/docs/guides/containers/lxd_web_servers.md:737
#: ../src/docs/guides/containers/lxd_web_servers.md:796
#: ../src/docs/guides/contribute/mkdocs_lsyncd.md:53
#: ../src/docs/guides/contribute/navigation.md:60
#: ../src/docs/guides/custom-linux-kernel.md:453
#: ../src/docs/guides/editors/micro.md:30
#: ../src/docs/guides/file_sharing/glusterfs.md:46
#: ../src/docs/guides/file_sharing/glusterfs.md:64
#: ../src/docs/guides/file_sharing/glusterfs.md:102
#: ../src/docs/guides/file_sharing/glusterfs.md:203
#: ../src/docs/guides/installation.md:36 ../src/docs/guides/installation.md:175
#: ../src/docs/guides/installation.md:183
#: ../src/docs/guides/installation.md:193
#: ../src/docs/guides/installation.md:266
#: ../src/docs/guides/proxies/haproxy_apache_lxd.md:71
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:31
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:253
#: ../src/docs/guides/security/firewalld-beginners.md:89
#: ../src/docs/guides/security/firewalld-beginners.md:144
#: ../src/docs/guides/security/firewalld-beginners.md:258
#: ../src/docs/guides/security/firewalld.md:51
#: ../src/docs/guides/security/firewalld.md:94
#: ../src/docs/guides/security/firewalld.md:228
#: ../src/docs/guides/security/firewalld.md:372
#: ../src/docs/guides/security/generating_ssl_keys_lets_encrypt.md:72
#: ../src/docs/guides/security/learning_selinux.md:137
#: ../src/docs/guides/security/learning_selinux.md:253
#: ../src/docs/guides/security/learning_selinux.md:356
#: ../src/docs/guides/virtualization/vbox-rocky.md:27
#: ../src/docs/guides/web/nginx-mainline.md:30
#: ../src/docs/guides/web/nginx-mainline.md:99
#: ../src/docs/guides/web/nginx-mainline.md:141
#: ../src/docs/guides/web/nginx-mainline.md:254
#: ../src/docs/guides/web/nginx-mainline.md:333
#: ../src/docs/guides/web/nginx-multisite.md:73
#: ../src/docs/guides/web/nginx-multisite.md:233
#: ../src/docs/guides/web/nginx-multisite.md:292
#: ../src/docs/guides/web/nginx-multisite.md:302
#: ../src/docs/guides/web/php.md:33 ../src/docs/guides/web/php.md:76
#: ../src/docs/guides/web/php.md:181 ../src/docs/guides/web/php.md:230
#: ../src/docs/guides/web/php.md:271 ../src/docs/guides/web/php.md:467
#: ../src/docs/guides/web/php.md:471 ../src/docs/release_notes/9_2.md:26
#, no-wrap
msgid "!!! Note\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/03-commands.md:25
#: ../src/docs/books/admin_guide/09-backups.md:23
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:22
#: ../src/docs/books/learning_ansible/05-deployments.md:25
#, no-wrap
msgid "**Reading time**: 40 minutes\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/01-basic.md:506
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:430
#, no-wrap
msgid "Collections are a distribution format for Ansible content that can include playbooks, roles, modules, and plugins.\n"
msgstr ""

#. type: YAML Front Matter: title
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:1
#, no-wrap
msgid "Ansible Galaxy"
msgstr ""

#. type: Title #
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:5
#, no-wrap
msgid "Ansible Galaxy: Collections and Roles"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:8
#, no-wrap
msgid "In this chapter you will learn how to use, install, and manage Ansible roles and collections.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:15
#, no-wrap
msgid ""
":heavy_check_mark: install and manage collections.       \n"
":heavy_check_mark: install and manage roles.   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:17
#, no-wrap
msgid ":checkered_flag: **ansible**, **ansible-galaxy**, **roles**, **collections**\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:20
#: ../src/docs/books/learning_ansible/05-deployments.md:23
#, no-wrap
msgid ""
"**Knowledge**: :star: :star:      \n"
"**Complexity**: :star: :star: :star:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:26
#, no-wrap
msgid "[Ansible Galaxy](https://galaxy.ansible.com) provides Ansible Roles and Collections from the Ansible Community.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:28
#, no-wrap
msgid "The elements provided can be referenced in the playbooks and used out of the box\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:29
#, no-wrap
msgid "`ansible-galaxy` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:32
#, no-wrap
msgid "The `ansible-galaxy` command manages roles and collections using [galaxy.ansible.com](http://galaxy.ansible.com).\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:34
#, no-wrap
msgid "To manage roles:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:35
#, no-wrap
msgid "ansible-galaxy role [import|init|install|login|remove|...]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:47
#, no-wrap
msgid ""
"| Sub-commands | Observations                                              |\n"
"|--------------|-----------------------------------------------------------|\n"
"| `install`    | installs a role.                                          |\n"
"| `remove`     | remove one or more roles.                                 |\n"
"| `list`       | display the name and the version of installed roles.      |\n"
"| `info`       | display information about a role.                         |\n"
"| `init`       | generate a skeleton of a new role.                        |\n"
"| `import`     | import a role from the galaxy web site. Requires a login. |\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:49
#, no-wrap
msgid "To manage collections:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:50
#, no-wrap
msgid "ansible-galaxy collection [import|init|install|login|remove|...]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:59
#, no-wrap
msgid ""
"| Sub-commands | Observations                                               |\n"
"|--------------|------------------------------------------------------------|\n"
"| `init`       | generate a skeleton of a new collection.                   |\n"
"| `install`    | installs a collection.                                     |\n"
"| `list`       | display the name and the version of installed collections. |\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:60
#, no-wrap
msgid "Ansible Roles"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:63
#, no-wrap
msgid "An Ansible role is a unit that promotes the reusability of playbooks.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:67
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse_roles.html)\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:68
#, no-wrap
msgid "Installing useful Roles"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:71
#, no-wrap
msgid "In order to highlight the interest of using roles, I suggest you to use the `alemorvan/patchmanagement` role, which will allow you to perform a lot of tasks (pre-update or post-update for example) during your update process, in only a few lines of code.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:73
#, no-wrap
msgid "You can check the code in the github repo of the role [here](https://github.com/alemorvan/patchmanagement).\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:75
#, no-wrap
msgid "Install the role. This needs only one command:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:76
#, no-wrap
msgid "ansible-galaxy role install alemorvan.patchmanagement\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:81
#, no-wrap
msgid "Create a playbook to include the role:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:82
#, no-wrap
msgid ""
"- name: Start a Patch Management\n"
"  hosts: ansible_clients\n"
"  vars:\n"
"    pm_before_update_tasks_file: custom_tasks/pm_before_update_tasks_file.yml\n"
"    pm_after_update_tasks_file: custom_tasks/pm_after_update_tasks_file.yml\n"
"\n"
"  tasks:\n"
"    - name: \"Include patchmanagement\"\n"
"      include_role:\n"
"        name: \"alemorvan.patchmanagement\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:96
#, no-wrap
msgid "With this role, you can add your own tasks for all your inventory or for only your targeted node.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:98
#, no-wrap
msgid "Let's create tasks that will be run before and after the update process:\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:100
#, no-wrap
msgid "Create the `custom_tasks` folder:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:101
#, no-wrap
msgid "mkdir custom_tasks\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:106
#, no-wrap
msgid "Create the `custom_tasks/pm_before_update_tasks_file.yml` (feel free to change the name and the content of this file)\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:107
#, no-wrap
msgid ""
"---\n"
"- name: sample task before the update process\n"
"  debug:\n"
"    msg: \"This is a sample tasks, feel free to add your own test task\"\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:115
#, no-wrap
msgid "Create the `custom_tasks/pm_after_update_tasks_file.yml` (feel free to change the name and the content of this file)\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:116
#, no-wrap
msgid ""
"---\n"
"- name: sample task after the update process\n"
"  debug:\n"
"    msg: \"This is a sample tasks, feel free to add your own test task\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:124
#, no-wrap
msgid "And launch your first Patch Management:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:125
#, no-wrap
msgid ""
"ansible-playbook patchmanagement.yml\n"
"\n"
"PLAY [Start a Patch Management] *************************************************************************\n"
"\n"
"TASK [Gathering Facts] **********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Include patchmanagement] **************************************************************************\n"
"\n"
"TASK [alemorvan.patchmanagement : MAIN | Linux Patch Management Job] ************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"Start 192 patch management\"\n"
"}\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : sample task before the update process] ********************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"This is a sample tasks, feel free to add your own test task\"\n"
"}\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : MAIN | We can now patch] **********************************************\n"
"included: /home/ansible/.ansible/roles/alemorvan.patchmanagement/tasks/patch.yml for 192.168.1.11\n"
"\n"
"TASK [alemorvan.patchmanagement : PATCH | Tasks depends on distribution] ********************************\n"
"ok: [192.168.1.11] => {\n"
"    \"ansible_distribution\": \"Rocky\"\n"
"}\n"
"\n"
"TASK [alemorvan.patchmanagement : PATCH | Include tasks for CentOS & RedHat tasks] **********************\n"
"included: /home/ansible/.ansible/roles/alemorvan.patchmanagement/tasks/linux_tasks/redhat_centos.yml for 192.168.1.11\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | yum clean all] ******************************************\n"
"changed: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | Ensure yum-utils is installed] **************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | Remove old kernels] *************************************\n"
"skipping: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | Update rpm package with yum] ****************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : PATCH | Inlude tasks for Debian & Ubuntu tasks] ***********************\n"
"skipping: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : MAIN | We can now reboot] *********************************************\n"
"included: /home/ansible/.ansible/roles/alemorvan.patchmanagement/tasks/reboot.yml for 192.168.1.11\n"
"\n"
"TASK [alemorvan.patchmanagement : REBOOT | Reboot triggered] ********************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : REBOOT | Ensure we are not in rescue mode] ****************************\n"
"ok: [192.168.1.11]\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : FACTS | Insert fact file] *********************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : FACTS | Save date of last PM] *****************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : sample task after the update process] *********************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"This is a sample tasks, feel free to add your own test task\"\n"
"}\n"
"\n"
"PLAY RECAP **********************************************************************************************\n"
"192.168.1.11               : ok=31   changed=1    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0  \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:204
#, no-wrap
msgid "Pretty easy for such a complex process, isn't it?\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:206
#, no-wrap
msgid "This is just one example of what can be done using roles made available by the community. Have a look at [galaxy.ansible.com](https://galaxy.ansible.com/) to discover the roles that could be useful for you!\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:208
#, no-wrap
msgid "You can also create your own roles for your own needs and publish them on the Internet if you feel like it. This is what we will briefly cover in the next chapter.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:209
#, fuzzy, no-wrap
#| msgid "Introduction to Linux"
msgid "Introduction to Role development"
msgstr "Introduction à Linux"

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:212
#, no-wrap
msgid "A role skeleton, serving as a starting point for custom role development, can be generated by the `ansible-galaxy` command:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:213
#, no-wrap
msgid ""
"$ ansible-galaxy role init rocky8\n"
"- Role rocky8 was created successfully\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:219
#, no-wrap
msgid "The command will generate the following tree structure to contain the `rocky8` role:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:220
#, no-wrap
msgid ""
"tree rocky8/\n"
"rocky8/\n"
"├── defaults\n"
"│   └── main.yml\n"
"├── files\n"
"├── handlers\n"
"│   └── main.yml\n"
"├── meta\n"
"│   └── main.yml\n"
"├── README.md\n"
"├── tasks\n"
"│   └── main.yml\n"
"├── templates\n"
"├── tests\n"
"│   ├── inventory\n"
"│   └── test.yml\n"
"└── vars\n"
"    └── main.yml\n"
"\n"
"8 directories, 8 files\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:244
#, no-wrap
msgid "Roles allow you to do away with the need to include files. There is no need to specify file paths or `include` directives in playbooks. You just have to specify a task, and Ansible takes care of the inclusions.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:246
#, no-wrap
msgid "The structure of a role is fairly obvious to understand.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:248
#, no-wrap
msgid "Variables are simply stored either in `vars/main.yml` if the variables are not to be overridden, or in `default/main.yml` if you want to leave the possibility of overriding the variable content from outside your role.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:250
#, no-wrap
msgid "The handlers, files, and templates needed for your code are stored in `handlers/main.yml`, `files` and `templates` respectively.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:252
#, no-wrap
msgid "All that remains is to define the code for your role's tasks in `tasks/main.yml`.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:254
#, no-wrap
msgid "Once all this is working well, you can use this role in your playbooks. You will be able to use your role without worrying about the technical aspect of its tasks, while customizing its operation with variables.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:255
#, no-wrap
msgid "Practical work: create a first simple role"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:258
#, no-wrap
msgid "Let's implement this with a \"go anywhere\" role that will create a default user and install software packages. This role can be systematically applied to all your servers.\n"
msgstr ""

#. type: Title ####
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:259
#, no-wrap
msgid "Variables"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:262
#, no-wrap
msgid "We will create a `rockstar` user on all of our servers. As we don't want this user to be overridden, let's define it in the `vars/main.yml`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:263
#, no-wrap
msgid ""
"---\n"
"rocky8_default_group:\n"
"  name: rockstar\n"
"  gid: 1100\n"
"rocky8_default_user:\n"
"  name: rockstar\n"
"  uid: 1100\n"
"  group: rockstar\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:275
#, no-wrap
msgid "We can now use those variables inside our `tasks/main.yml` without any inclusion.\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:276
#, no-wrap
msgid ""
"---\n"
"- name: Create default group\n"
"  group:\n"
"    name: \"{{ rocky8_default_group.name }}\"\n"
"    gid: \"{{ rocky8_default_group.gid }}\"\n"
"\n"
"- name: Create default user\n"
"  user:\n"
"    name: \"{{ rocky8_default_user.name }}\"\n"
"    uid: \"{{ rocky8_default_user.uid }}\"\n"
"    group: \"{{ rocky8_default_user.group }}\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:291
#, no-wrap
msgid "To test your new role, let's create a `test-role.yml` playbook in the same directory as your role:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:292
#, no-wrap
msgid ""
"---\n"
"- name: Test my role\n"
"  hosts: localhost\n"
"\n"
"  roles:\n"
"\n"
"    - role: rocky8\n"
"      become: true\n"
"      become_user: root\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:305
#, no-wrap
msgid "and launch it:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:306
#, no-wrap
msgid ""
"ansible-playbook test-role.yml\n"
"\n"
"PLAY [Test my role] ************************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default group] *******************************************************************\n"
"changed: [localhost]\n"
"\n"
"TASK [rocky8 : Create default user] ********************************************************************\n"
"changed: [localhost]\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:325
#, no-wrap
msgid "Congratulations! You are now able to create great things with a playbook of only a few lines.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:327
#, no-wrap
msgid "Let's see the use of default variables.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:329
#, no-wrap
msgid "Create a list of packages to install by default on your servers and an empty list of packages to uninstall. Edit the `defaults/main.yml` files and add those two lists:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:330
#, no-wrap
msgid ""
"rocky8_default_packages:\n"
"  - tree\n"
"  - vim\n"
"rocky8_remove_packages: []\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:338
#, no-wrap
msgid "and use them in your `tasks/main.yml`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:339
#, no-wrap
msgid ""
"- name: Install default packages (can be overridden)\n"
"  package:\n"
"    name: \"{{ rocky8_default_packages }}\"\n"
"    state: present\n"
"\n"
"- name: \"Uninstall default packages (can be overridden) {{ rocky8_remove_packages }}\"\n"
"  package:\n"
"    name: \"{{ rocky8_remove_packages }}\"\n"
"    state: absent\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:352
#, no-wrap
msgid "Test your role with the help of the playbook previously created:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:353
#, no-wrap
msgid ""
"ansible-playbook test-role.yml\n"
"\n"
"PLAY [Test my role] ************************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default group] *******************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default user] ********************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Install default packages (can be overridden)] ********************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Uninstall default packages (can be overridden) []] ***************************************\n"
"ok: [localhost]\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"localhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:378
#, no-wrap
msgid "You can now override the `rocky8_remove_packages` in your playbook and uninstall for example `cockpit`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:379
#, no-wrap
msgid ""
"---\n"
"- name: Test my role\n"
"  hosts: localhost\n"
"  vars:\n"
"    rocky8_remove_packages:\n"
"      - cockpit\n"
"\n"
"  roles:\n"
"\n"
"    - role: rocky8\n"
"      become: true\n"
"      become_user: root\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:394
#, no-wrap
msgid ""
"ansible-playbook test-role.yml\n"
"\n"
"PLAY [Test my role] ************************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default group] *******************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default user] ********************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Install default packages (can be overridden)] ********************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Uninstall default packages (can be overridden) ['cockpit']] ******************************\n"
"changed: [localhost]\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"localhost                  : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:419
#, no-wrap
msgid "Obviously, there is no limit to how much you can improve your role. Imagine that for one of your servers, you need a package that is in the list of those to be uninstalled. You could then, for example, create a new list that can be overridden and then remove from the list of packages to be uninstalled those in the list of specific packages to be installed by using the jinja `difference()` filter.\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:420
#, no-wrap
msgid ""
"- name: \"Uninstall default packages (can be overridden) {{ rocky8_remove_packages }}\"\n"
"  package:\n"
"    name: \"{{ rocky8_remove_packages | difference(rocky8_specifics_packages) }}\"\n"
"    state: absent\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:427
#, no-wrap
msgid "Ansible Collections"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:434
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/collections_using.html)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:436
#, no-wrap
msgid "To install or upgrade a collection:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:437
#, no-wrap
msgid "ansible-galaxy collection install namespace.collection [--upgrade]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:442
#, no-wrap
msgid "You can then use the newly installed collection using its namespace and name before the module's name or role's name:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:443
#, no-wrap
msgid ""
"- import_role:\n"
"    name: namespace.collection.rolename\n"
"\n"
"- namespace.collection.modulename:\n"
"    option1: value\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:452
#, no-wrap
msgid "You can find a collection index [here](https://docs.ansible.com/ansible/latest/collections/index.html).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:454
#, no-wrap
msgid "Let's install the `community.general` collection:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:455
#, no-wrap
msgid ""
"ansible-galaxy collection install community.general\n"
"Starting galaxy collection install process\n"
"Process install dependency map\n"
"Starting collection install process\n"
"Downloading https://galaxy.ansible.com/download/community-general-3.3.2.tar.gz to /home/ansible/.ansible/tmp/ansible-local-51384hsuhf3t5/tmpr_c9qrt1/community-general-3.3.2-f4q9u4dg\n"
"Installing 'community.general:3.3.2' to '/home/ansible/.ansible/collections/ansible_collections/community/general'\n"
"community.general:3.3.2 was installed successfully\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:466
#, no-wrap
msgid "We can now use the newly available module `yum_versionlock`:\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:467
#, no-wrap
msgid ""
"name: Start a Patch Management\n"
"hosts: ansible_clients\n"
"become: true\n"
"become_user: root\n"
"tasks:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:467
#, no-wrap
msgid ""
"\n"
"    - name: Ensure yum-versionlock is installed\n"
"      package:\n"
"        name: python3-dnf-plugin-versionlock\n"
"        state: present\n"
"\n"
"    - name: Prevent kernel from being updated\n"
"      community.general.yum_versionlock:\n"
"        state: present\n"
"        name: kernel\n"
"      register: locks\n"
"\n"
"    - name: Display locks\n"
"      debug:\n"
"        var: locks.meta.packages                            \n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:490
#, no-wrap
msgid ""
"ansible-playbook versionlock.yml\n"
"\n"
"PLAY [Start a Patch Management] *************************************************************************\n"
"\n"
"TASK [Gathering Facts] **********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Ensure yum-versionlock is installed] **************************************************************\n"
"changed: [192.168.1.11]\n"
"\n"
"TASK [Prevent kernel from being updated] ****************************************************************\n"
"changed: [192.168.1.11]\n"
"\n"
"TASK [Display locks] ************************************************************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"locks.meta.packages\": [\n"
"        \"kernel\"\n"
"    ]\n"
"}\n"
"\n"
"PLAY RECAP **********************************************************************************************\n"
"192.168.1.11               : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
"\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:516
#, no-wrap
msgid "Creating your own collection"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:519
#, no-wrap
msgid "As with roles, you are able to create your own collection with the help of the `ansible-galaxy` command:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:520
#, no-wrap
msgid ""
"ansible-galaxy collection init rocky8.rockstarcollection\n"
"- Collection rocky8.rockstarcollection was created successfully\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:525
#, no-wrap
msgid ""
"tree rocky8/rockstarcollection/\n"
"rocky8/rockstarcollection/\n"
"├── docs\n"
"├── galaxy.yml\n"
"├── plugins\n"
"│   └── README.md\n"
"├── README.md\n"
"└── roles\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:536
#, no-wrap
msgid "You can then store your own plugins or roles inside this new collection.\n"
msgstr ""

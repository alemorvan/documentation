# French translations for po package
# Copyright (C) 2023 Free Software Foundation, Inc.
# This file is distributed under the same license as the po package.
# Automatically generated, 2023.
#
msgid ""
msgstr ""
"Project-Id-Version: po 4a\n"
"POT-Creation-Date: 2023-06-16 16:28+0000\n"
"PO-Revision-Date: 2023-06-16 16:28+0000\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"Language: fr\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=(n > 1);\n"

#. type: Plain text
#: ../src/docs/books/admin_guide/01-presentation.md:12
#: ../src/docs/books/admin_guide/12-network.md:12
#: ../src/docs/books/learning_ansible/01-basic.md:15
#: ../src/docs/books/learning_ansible/02-advanced.md:12
#: ../src/docs/books/learning_ansible/03-working-with-files.md:12
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:12
#: ../src/docs/books/learning_ansible/05-deployments.md:12
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:12
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:14
#: ../src/docs/books/learning_bash/01-first-script.md:19
#: ../src/docs/books/learning_bash/02-using-variables.md:19
#: ../src/docs/books/learning_bash/03-data-entry-and-manipulations.md:19
#: ../src/docs/books/learning_bash/05-tests.md:17
#: ../src/docs/books/learning_bash/06-conditional-structures.md:17
#: ../src/docs/books/learning_bash/07-loops.md:17
#, no-wrap
msgid "**Objectives**: In this chapter you will learn how to:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/04-advanced-commands.md:43
#: ../src/docs/books/admin_guide/04-advanced-commands.md:220
#: ../src/docs/books/admin_guide/04-advanced-commands.md:271
#: ../src/docs/books/admin_guide/04-advanced-commands.md:334
#: ../src/docs/books/admin_guide/05-vi.md:70
#: ../src/docs/books/admin_guide/05-vi.md:206
#: ../src/docs/books/admin_guide/05-vi.md:272
#: ../src/docs/books/admin_guide/06-users.md:36
#: ../src/docs/books/admin_guide/06-users.md:92
#: ../src/docs/books/admin_guide/06-users.md:220
#: ../src/docs/books/admin_guide/06-users.md:350
#: ../src/docs/books/admin_guide/06-users.md:598
#: ../src/docs/books/admin_guide/06-users.md:754
#: ../src/docs/books/admin_guide/06-users.md:818
#: ../src/docs/books/admin_guide/11-tasks.md:174
#: ../src/docs/books/admin_guide/12-network.md:158
#: ../src/docs/books/admin_guide/03-commands.md:516
#: ../src/docs/books/admin_guide/03-commands.md:693
#: ../src/docs/books/admin_guide/03-commands.md:1216
#: ../src/docs/books/admin_guide/03-commands.md:1262
#: ../src/docs/books/admin_guide/03-commands.md:1297
#: ../src/docs/books/admin_guide/07-file-systems.md:395
#: ../src/docs/books/admin_guide/07-file-systems.md:437
#: ../src/docs/books/admin_guide/07-file-systems.md:447
#: ../src/docs/books/admin_guide/07-file-systems.md:515
#: ../src/docs/books/admin_guide/07-file-systems.md:556
#: ../src/docs/books/admin_guide/07-file-systems.md:627
#: ../src/docs/books/admin_guide/07-file-systems.md:653
#: ../src/docs/books/admin_guide/07-file-systems.md:672
#: ../src/docs/books/admin_guide/07-file-systems.md:676
#: ../src/docs/books/admin_guide/07-file-systems.md:1019
#: ../src/docs/books/admin_guide/08-process.md:49
#: ../src/docs/books/admin_guide/08-process.md:238
#: ../src/docs/books/admin_guide/09-backups.md:27
#: ../src/docs/books/admin_guide/09-backups.md:116
#: ../src/docs/books/admin_guide/09-backups.md:133
#: ../src/docs/books/admin_guide/09-backups.md:148
#: ../src/docs/books/admin_guide/09-backups.md:281
#: ../src/docs/books/admin_guide/09-backups.md:285
#: ../src/docs/books/admin_guide/09-backups.md:301
#: ../src/docs/books/admin_guide/09-backups.md:342
#: ../src/docs/books/admin_guide/09-backups.md:352
#: ../src/docs/books/admin_guide/09-backups.md:554
#: ../src/docs/books/admin_guide/09-backups.md:771
#: ../src/docs/books/admin_guide/10-boot.md:114
#: ../src/docs/books/admin_guide/10-boot.md:153
#: ../src/docs/books/admin_guide/10-boot.md:165
#: ../src/docs/books/admin_guide/13-softwares.md:22
#: ../src/docs/books/learning_ansible/01-basic.md:51
#: ../src/docs/books/learning_ansible/01-basic.md:104
#: ../src/docs/books/learning_ansible/01-basic.md:112
#: ../src/docs/books/learning_ansible/01-basic.md:328
#: ../src/docs/books/learning_ansible/01-basic.md:415
#: ../src/docs/books/learning_ansible/01-basic.md:492
#: ../src/docs/books/learning_ansible/01-basic.md:633
#: ../src/docs/books/learning_ansible/01-basic.md:656
#: ../src/docs/books/learning_ansible/02-advanced.md:34
#: ../src/docs/books/learning_ansible/02-advanced.md:150
#: ../src/docs/books/learning_ansible/02-advanced.md:182
#: ../src/docs/books/learning_ansible/02-advanced.md:269
#: ../src/docs/books/learning_ansible/02-advanced.md:277
#: ../src/docs/books/learning_ansible/02-advanced.md:287
#: ../src/docs/books/learning_ansible/02-advanced.md:293
#: ../src/docs/books/learning_ansible/02-advanced.md:360
#: ../src/docs/books/learning_ansible/02-advanced.md:428
#: ../src/docs/books/learning_ansible/02-advanced.md:601
#: ../src/docs/books/learning_ansible/03-working-with-files.md:33
#: ../src/docs/books/learning_ansible/03-working-with-files.md:58
#: ../src/docs/books/learning_ansible/03-working-with-files.md:77
#: ../src/docs/books/learning_ansible/03-working-with-files.md:96
#: ../src/docs/books/learning_ansible/03-working-with-files.md:113
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:65
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:432
#: ../src/docs/books/learning_ansible/05-deployments.md:41
#: ../src/docs/books/learning_ansible/05-deployments.md:124
#: ../src/docs/books/learning_ansible/05-deployments.md:196
#: ../src/docs/books/learning_ansible/05-deployments.md:616
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:36
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:40
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:80
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:214
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:32
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:75
#: ../src/docs/books/learning_bash/02-using-variables.md:153
#: ../src/docs/books/learning_bash/02-using-variables.md:193
#: ../src/docs/books/learning_bash/05-tests.md:245
#: ../src/docs/books/learning_bash/07-loops.md:180
#: ../src/docs/books/lxd_server/04-firewall.md:80
#: ../src/docs/books/nvchad/plugins/md_preview.md:140
#: ../src/docs/books/nvchad/template_chadrc.md:239
#: ../src/docs/gemstones/https_rsa_keygen.md:34
#: ../src/docs/gemstones/systemd_service_for_python_script.md:80
#: ../src/docs/guides/8_6_installation.md:37
#: ../src/docs/guides/8_6_installation.md:168
#: ../src/docs/guides/8_6_installation.md:176
#: ../src/docs/guides/8_6_installation.md:182
#: ../src/docs/guides/8_6_installation.md:250
#: ../src/docs/guides/automation/olivetin.md:60
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:307
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:323
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:486
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:533
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:667
#: ../src/docs/guides/containers/lxd_web_servers.md:35
#: ../src/docs/guides/containers/lxd_web_servers.md:45
#: ../src/docs/guides/containers/lxd_web_servers.md:301
#: ../src/docs/guides/containers/lxd_web_servers.md:352
#: ../src/docs/guides/containers/lxd_web_servers.md:605
#: ../src/docs/guides/containers/lxd_web_servers.md:665
#: ../src/docs/guides/containers/lxd_web_servers.md:737
#: ../src/docs/guides/containers/lxd_web_servers.md:796
#: ../src/docs/guides/contribute/mkdocs_lsyncd.md:53
#: ../src/docs/guides/contribute/navigation.md:60
#: ../src/docs/guides/custom-linux-kernel.md:453
#: ../src/docs/guides/editors/micro.md:30
#: ../src/docs/guides/file_sharing/glusterfs.md:46
#: ../src/docs/guides/file_sharing/glusterfs.md:64
#: ../src/docs/guides/file_sharing/glusterfs.md:102
#: ../src/docs/guides/file_sharing/glusterfs.md:203
#: ../src/docs/guides/installation.md:36 ../src/docs/guides/installation.md:175
#: ../src/docs/guides/installation.md:183
#: ../src/docs/guides/installation.md:193
#: ../src/docs/guides/installation.md:266
#: ../src/docs/guides/proxies/haproxy_apache_lxd.md:71
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:31
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:253
#: ../src/docs/guides/security/firewalld-beginners.md:89
#: ../src/docs/guides/security/firewalld-beginners.md:144
#: ../src/docs/guides/security/firewalld-beginners.md:258
#: ../src/docs/guides/security/firewalld.md:51
#: ../src/docs/guides/security/firewalld.md:94
#: ../src/docs/guides/security/firewalld.md:228
#: ../src/docs/guides/security/firewalld.md:372
#: ../src/docs/guides/security/generating_ssl_keys_lets_encrypt.md:72
#: ../src/docs/guides/security/learning_selinux.md:137
#: ../src/docs/guides/security/learning_selinux.md:253
#: ../src/docs/guides/security/learning_selinux.md:356
#: ../src/docs/guides/virtualization/vbox-rocky.md:27
#: ../src/docs/guides/web/nginx-mainline.md:30
#: ../src/docs/guides/web/nginx-mainline.md:99
#: ../src/docs/guides/web/nginx-mainline.md:141
#: ../src/docs/guides/web/nginx-mainline.md:254
#: ../src/docs/guides/web/nginx-mainline.md:333
#: ../src/docs/guides/web/nginx-multisite.md:73
#: ../src/docs/guides/web/nginx-multisite.md:233
#: ../src/docs/guides/web/nginx-multisite.md:292
#: ../src/docs/guides/web/nginx-multisite.md:302
#: ../src/docs/guides/web/php.md:33 ../src/docs/guides/web/php.md:76
#: ../src/docs/guides/web/php.md:181 ../src/docs/guides/web/php.md:230
#: ../src/docs/guides/web/php.md:271 ../src/docs/guides/web/php.md:467
#: ../src/docs/guides/web/php.md:471 ../src/docs/release_notes/9_2.md:26
#, no-wrap
msgid "!!! Note\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:25
#: ../src/docs/books/admin_guide/12-network.md:25
#: ../src/docs/books/learning_ansible/01-basic.md:26
#: ../src/docs/books/learning_ansible/02-advanced.md:24
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:22
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:14
#, no-wrap
msgid "**Reading time**: 30 minutes\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:606
#: ../src/docs/books/admin_guide/03-commands.md:1450
#: ../src/docs/books/admin_guide/14-special-authority.md:422
#: ../src/docs/books/admin_guide/14-special-authority.md:669
#: ../src/docs/books/learning_ansible/02-advanced.md:74
#: ../src/docs/books/learning_ansible/03-working-with-files.md:117
#, no-wrap
msgid "For example:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/01-basic.md:21
#: ../src/docs/books/learning_ansible/02-advanced.md:19
#, no-wrap
msgid ":checkered_flag: **ansible**, **module**, **playbook**\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/01-basic.md:24
#: ../src/docs/books/learning_ansible/02-advanced.md:22
#, no-wrap
msgid ""
"**Knowledge**: :star: :star: :star:     \n"
"**Complexity**: :star: :star:\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/01-basic.md:575
#: ../src/docs/books/learning_ansible/02-advanced.md:155
#: ../src/docs/books/learning_ansible/02-advanced.md:272
#: ../src/docs/books/learning_ansible/02-advanced.md:353
#, no-wrap
msgid "Exercises"
msgstr ""

#. type: Title #
#: ../src/docs/books/learning_ansible/02-advanced.md:1
#: ../src/docs/books/learning_ansible/02-advanced.md:5
#, no-wrap
msgid "Ansible Intermediate"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:8
#, no-wrap
msgid "In this chapter you will continue to learn how to work with Ansible.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:17
#, no-wrap
msgid ""
":heavy_check_mark: work with variables;       \n"
":heavy_check_mark: use loops;   \n"
":heavy_check_mark: manage state changes and react to them;   \n"
":heavy_check_mark: manage asynchronous tasks.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:28
#, no-wrap
msgid "In the previous chapter, you learned how to install Ansible, use it on the command line, or how to write playbooks to promote the re-usability of your code.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:30
#, no-wrap
msgid "In this chapter, we can start to discover some more advanced notions of how to use Ansible, and discover some interesting tasks that you will use very regularly.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/02-advanced.md:31
#, no-wrap
msgid "The variables"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:36
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:38
#, no-wrap
msgid "Under Ansible, there are different types of primitive variables:\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:42
#, no-wrap
msgid "strings,\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:42
#, no-wrap
msgid "integers,\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:42
#, no-wrap
msgid "booleans.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:44
#, no-wrap
msgid "These variables can be organized as:\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:47
#, no-wrap
msgid "dictionaries,\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:47
#, no-wrap
msgid "lists.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:49
#, no-wrap
msgid "A variable can be defined in different places, like in a playbook, in a role or from the command line for example.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:51
#, no-wrap
msgid "For example, from a playbook:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:52
#, no-wrap
msgid ""
"---\n"
"- hosts: apache1\n"
"  vars:\n"
"    port_http: 80\n"
"    service:\n"
"      debian: apache2\n"
"      rhel: httpd\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:63
#, no-wrap
msgid "or from the command line:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:64
#, no-wrap
msgid "$ ansible-playbook deploy-http.yml --extra-vars \"service=httpd\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:69
#, no-wrap
msgid "Once defined, a variable can be used by calling it between double braces:\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:72
#, no-wrap
msgid "`{{ port_http }}` for a simple value,\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:72
#, no-wrap
msgid "`{{ service['rhel'] }}` or `{{ service.rhel }}` for a dictionary.\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:75
#, no-wrap
msgid ""
"- name: make sure apache is started\n"
"  ansible.builtin.systemd:\n"
"    name: \"{{ service['rhel'] }}\"\n"
"    state: started\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:83
#, no-wrap
msgid "Of course, it is also possible to access the global variables (the **facts**) of Ansible (OS type, IP addresses, VM name, etc.).\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/02-advanced.md:84
#, no-wrap
msgid "Outsourcing variables"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:87
#, no-wrap
msgid "Variables can be included in a file external to the playbook, in which case this file must be defined in the playbook with the `vars_files` directive:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:88
#, no-wrap
msgid ""
"---\n"
"- hosts: apache1\n"
"  vars_files:\n"
"    - myvariables.yml\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:96
#, no-wrap
msgid "The `myvariables.yml` file:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:97
#, no-wrap
msgid ""
"---\n"
"port_http: 80\n"
"ansible.builtin.systemd::\n"
"  debian: apache2\n"
"  rhel: httpd\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:106
#, no-wrap
msgid "It can also be added dynamically with the use of the module `include_vars`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:107
#, no-wrap
msgid ""
"- name: Include secrets.\n"
"  ansible.builtin.include_vars:\n"
"    file: vault.yml\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/02-advanced.md:113
#, no-wrap
msgid "Display a variable"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:116
#, no-wrap
msgid "To display a variable, you have to activate the `debug` module as follows:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:117
#, no-wrap
msgid ""
"- ansible.builtin.debug:\n"
"    var: \"{{ service['debian'] }}\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:123
#, no-wrap
msgid "You can also use the variable inside a text:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:124
#, no-wrap
msgid ""
"- ansible.builtin.debug:\n"
"    msg: \"Print a variable in a message : {{ service['debian'] }}\"\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/02-advanced.md:129
#, no-wrap
msgid "Save the return of a task"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:132
#, no-wrap
msgid "To save the return of a task and to be able to access it later, you have to use the keyword `register` inside the task itself.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:134
#, no-wrap
msgid "Use of a stored variable:\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/books/learning_ansible/02-advanced.md:135
#: ../src/docs/books/learning_ansible/02-advanced.md:225
#, no-wrap
msgid ""
"name: /home content\n"
"shell: ls /home\n"
"register: homes\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:135
#, no-wrap
msgid ""
"\n"
"- name: Print the first directory name\n"
"  ansible.builtin.debug:\n"
"    var: homes.stdout_lines[0]\n"
"\n"
"- name: Print the first directory name\n"
"  ansible.builtin.debug:\n"
"    var: homes.stdout_lines[1]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:152
#, no-wrap
msgid "    The variable `homes.stdout_lines` is a list of variables of type string, a way to organize variables that we had not yet encountered.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:154
#, no-wrap
msgid "The strings that make up the stored variable can be accessed via the `stdout` value (which allows you to do things like `homes.stdout.find(\"core\") != -1`), to exploit them using a loop (see `loop`), or simply by their indices as seen in the previous example.\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:158
#, no-wrap
msgid "Write a  playbook `play-vars.yml` that prints the distribution name of the target with its major version, using global variables.\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:160
#: ../src/docs/books/learning_ansible/02-advanced.md:501
#, no-wrap
msgid "Write a playbook using the following dictionary to display the services that will be installed:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:161
#: ../src/docs/books/learning_ansible/02-advanced.md:502
#, no-wrap
msgid ""
"service:\n"
"  web:\n"
"    name: apache\n"
"    rpm: httpd\n"
"  db:\n"
"    name: mariadb\n"
"    rpm: mariadb-server\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:172
#: ../src/docs/books/learning_ansible/02-advanced.md:513
#, no-wrap
msgid "The default type should be \"web\".\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:174
#, no-wrap
msgid "Override the `type` variable using the command line\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:176
#: ../src/docs/books/learning_ansible/02-advanced.md:572
#, no-wrap
msgid "Externalize variables in a `vars.yml` file\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/02-advanced.md:177
#, no-wrap
msgid "Loop management"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:180
#, no-wrap
msgid "With the help of loop, you can iterate a task over a list, a hash, or dictionary for example.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:184
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:186
#, no-wrap
msgid "Simple example of use, creation of 4 users:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:187
#, no-wrap
msgid ""
"- name: add users\n"
"  user:\n"
"    name: \"{{ item }}\"\n"
"    state: present\n"
"    groups: \"users\"\n"
"  loop:\n"
"     - antoine\n"
"     - patrick\n"
"     - steven\n"
"     - xavier\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:201
#, no-wrap
msgid "At each iteration of the loop, the value of the list used is stored in the `item` variable, accessible in the loop code.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:203
#, no-wrap
msgid "Of course, a list can be defined in an external file:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:204
#, no-wrap
msgid ""
"users:\n"
"  - antoine\n"
"  - patrick\n"
"  - steven\n"
"  - xavier\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:213
#, no-wrap
msgid "and be used inside the task like this (after having include the vars file):\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:214
#, no-wrap
msgid ""
"- name: add users\n"
"  user:\n"
"    name: \"{{ item }}\"\n"
"    state: present\n"
"    groups: \"users\"\n"
"  loop: \"{{ users }}\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:224
#, no-wrap
msgid "We can use the example seen during the study of stored variables to improve it. Use of a stored variable:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:225
#, no-wrap
msgid ""
"\n"
"- name: Print the directories name\n"
"  ansible.builtin.debug:\n"
"    msg: \"Directory => {{ item }}\"\n"
"  loop: \"{{ homes.stdout_lines }}\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:237
#, no-wrap
msgid "A dictionary can also be used in a loop.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:239
#, no-wrap
msgid "In this case, you will have to transform the dictionary into an item with what is called a **jinja filter** (jinja is the templating engine used by Ansible): `| dict2items`.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:241
#, no-wrap
msgid "In the loop, it becomes possible to use `item.key` which corresponds to the dictionary key, and `item.value` which corresponds to the values of the key.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:243
#, no-wrap
msgid "Let's see this through a concrete example, showing the management of the system users:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:244
#, no-wrap
msgid ""
"---\n"
"- hosts: rocky8\n"
"  become: true\n"
"  become_user: root\n"
"  vars:\n"
"    users:\n"
"      antoine:\n"
"        group: users\n"
"        state: present\n"
"      steven:\n"
"        group: users\n"
"        state: absent\n"
"\n"
"  tasks:\n"
"\n"
"  - name: Manage users\n"
"    user:\n"
"      name: \"{{ item.key }}\"\n"
"      group: \"{{ item.value.group }}\"\n"
"      state: \"{{ item.value.state }}\"\n"
"    loop: \"{{ users | dict2items }}\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:271
#, no-wrap
msgid "    Many things can be done with the loops. You will discover the possibilities offered by loops when your use of Ansible pushes you to use them in a more complex way.\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:275
#: ../src/docs/books/learning_ansible/02-advanced.md:599
#, no-wrap
msgid "Display the content of the `service` variable from the previous exercise using a loop.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:279
#, no-wrap
msgid "    You will have to transform your `service` variable, which is a dictionary, to a list with the help of the jinja filter `list` as this:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:283
#: ../src/docs/books/learning_ansible/02-advanced.md:611
#, no-wrap
msgid ""
"    ```\n"
"    {{ service.values() | list }}\n"
"    ```\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/02-advanced.md:284
#, no-wrap
msgid "Conditionals"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:289
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_conditionals.html).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:291
#, no-wrap
msgid "The `when` statement is very useful in many cases: not performing certain actions on certain types of servers, if a file or a user does not exist, etc.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:295
#, no-wrap
msgid "    Behind the `when` statement the variables do not need double braces (they are in fact Jinja2 expressions...).\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/books/learning_ansible/02-advanced.md:296
#, no-wrap
msgid ""
"name: \"Reboot only Debian servers\"\n"
"reboot:\n"
"when: ansible_os_family == \"Debian\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:303
#, no-wrap
msgid "Conditions can be grouped with parentheses:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:304
#, no-wrap
msgid ""
"- name: \"Reboot only CentOS version 6 and Debian version 7\"\n"
"  reboot:\n"
"  when: (ansible_distribution == \"CentOS\" and ansible_distribution_major_version == \"6\") or\n"
"        (ansible_distribution == \"Debian\" and ansible_distribution_major_version == \"7\")\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:312
#, no-wrap
msgid "The conditions corresponding to a logical AND can be provided as a list:\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/books/learning_ansible/02-advanced.md:313
#, no-wrap
msgid ""
"name: \"Reboot only CentOS version 6\"\n"
"reboot:\n"
"when:\n"
msgstr ""

#. type: Bullet: '    - '
#: ../src/docs/books/learning_ansible/02-advanced.md:313
#, no-wrap
msgid "ansible_distribution == \"CentOS\"\n"
msgstr ""

#. type: Bullet: '    - '
#: ../src/docs/books/learning_ansible/02-advanced.md:313
#, no-wrap
msgid "ansible_distribution_major_version == \"6\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:322
#, no-wrap
msgid "You can test the value of a boolean and verify that it is true:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:323
#, no-wrap
msgid ""
"- name: check if directory exists\n"
"  stat:\n"
"    path: /home/ansible\n"
"  register: directory\n"
"\n"
"- ansible.builtin.debug:\n"
"    var: directory\n"
"\n"
"- ansible.builtin.debug:\n"
"    msg: The directory exists\n"
"  when:\n"
"    - directory.stat.exists\n"
"    - directory.stat.isdir\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:340
#, no-wrap
msgid "You can also test that it is not true:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:341
#, no-wrap
msgid ""
"  when:\n"
"    - file.stat.exists\n"
"    - not file.stat.isdir\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:348
#, no-wrap
msgid "You will probably have to test that a variable exists to avoid execution errors:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:349
#, no-wrap
msgid "  when: myboolean is defined and myboolean\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:356
#: ../src/docs/books/learning_ansible/02-advanced.md:687
#, no-wrap
msgid "Print the value of `service.web` only when `type` equals to `web`.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/02-advanced.md:357
#, no-wrap
msgid "Managing changes: the `handlers`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:362
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_handlers.html).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:364
#, no-wrap
msgid "Handlers allow to launch operations, like restarting a service, when changes occur.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:366
#, no-wrap
msgid "A module, being idempotent, a playbook can detect that there has been a significant change on a remote system, and thus trigger an operation in reaction to this change. A notification is sent at the end of a playbook task block, and the reaction operation will be triggered only once even if several tasks send the same notification.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:368
#, no-wrap
msgid "![Handlers](images/handlers.png)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:370
#, no-wrap
msgid "For example, several tasks may indicate that the `httpd` service needs to be restarted due to a change in its configuration files. But the service will only be restarted once to avoid multiple unnecessary starts.\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:371
#, no-wrap
msgid ""
"- name: template configuration file\n"
"  template:\n"
"    src: template-site.j2\n"
"    dest: /etc/httpd/sites-availables/test-site.conf\n"
"  notify:\n"
"     - restart memcached\n"
"     - restart httpd\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:382
#, no-wrap
msgid "A handler is a kind of task referenced by a unique global name:\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:385
#, no-wrap
msgid "It is activated by one or more notifiers.\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:385
#, no-wrap
msgid "It does not start immediately, but waits until all tasks are complete to run.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:387
#, no-wrap
msgid "Example of handlers:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:388
#, no-wrap
msgid ""
"handlers:\n"
"\n"
"  - name: restart memcached\n"
"    systemd:\n"
"      name: memcached\n"
"      state: restarted\n"
"\n"
"  - name: restart httpd\n"
"    systemd:\n"
"      name: httpd\n"
"      state: restarted\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:403
#, no-wrap
msgid "Since version 2.2 of Ansible, handlers can listen directly as well:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:404
#, no-wrap
msgid ""
"handlers:\n"
"\n"
"  - name: restart memcached\n"
"    systemd:\n"
"      name: memcached\n"
"      state: restarted\n"
"    listen: \"web services restart\"\n"
"\n"
"  - name: restart apache\n"
"    systemd:\n"
"      name: apache\n"
"      state: restarted\n"
"    listen: \"web services restart\"\n"
"\n"
"tasks:\n"
"    - name: restart everything\n"
"      command: echo \"this task will restart the web services\"\n"
"      notify: \"web services restart\"\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/02-advanced.md:425
#, no-wrap
msgid "Asynchronous tasks"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:430
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:432
#, no-wrap
msgid "By default, SSH connections to hosts remain open during the execution of various playbook tasks on all nodes.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:434
#, no-wrap
msgid "This can cause some problems, especially:\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:437
#, no-wrap
msgid "if the execution time of the task is longer than the SSH connection timeout\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:437
#, no-wrap
msgid "if the connection is interrupted during the action (server reboot for example)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:439
#, no-wrap
msgid "In this case, you will have to switch to asynchronous mode and specify a maximum execution time as well as the frequency (by default 10s) with which you will check the host status.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:441
#, no-wrap
msgid "By specifying a poll value of 0, Ansible will execute the task and continue without worrying about the result.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:443
#, no-wrap
msgid "Here's an example using asynchronous tasks, which allows you to restart a server and wait for port 22 to be reachable again:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:444
#, no-wrap
msgid ""
"# Wait 2s and launch the reboot\n"
"- name: Reboot system\n"
"  shell: sleep 2 && shutdown -r now \"Ansible reboot triggered\"\n"
"  async: 1\n"
"  poll: 0\n"
"  ignore_errors: true\n"
"  become: true\n"
"  changed_when: False\n"
"\n"
"  # Wait the server is available\n"
"  - name: Waiting for server to restart (10 mins max)\n"
"    wait_for:\n"
"      host: \"{{ inventory_hostname }}\"\n"
"      port: 22\n"
"      delay: 30\n"
"      state: started\n"
"      timeout: 600\n"
"    delegate_to: localhost\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:466
#, no-wrap
msgid "You can also decide to launch a long-running task and forget it (fire and forget) because the execution does not matter in the playbook.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/02-advanced.md:467
#, no-wrap
msgid "Exercise results"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:470
#, no-wrap
msgid "Write a  playbook `play-vars.yml` that print the distribution name of the target with its major version, using global variables.\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:471
#, no-wrap
msgid ""
"---\n"
"- hosts: ansible_clients\n"
"\n"
"  tasks:\n"
"\n"
"    - name: Print globales variables\n"
"      debug:\n"
"        msg: \"The distribution is {{ ansible_distribution }} version {{ ansible_distribution_major_version }}\"\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:482
#, no-wrap
msgid ""
"$ ansible-playbook play-vars.yml\n"
"\n"
"PLAY [ansible_clients] *********************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Print globales variables] ************************************************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"The distribution is Rocky version 8\"\n"
"}\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"192.168.1.11               : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
"\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:514
#, no-wrap
msgid ""
"---\n"
"- hosts: ansible_clients\n"
"  vars:\n"
"    type: web\n"
"    service:\n"
"      web:\n"
"        name: apache\n"
"        rpm: httpd\n"
"      db:\n"
"        name: mariadb\n"
"        rpm: mariadb-server\n"
"\n"
"  tasks:\n"
"\n"
"    - name: Print a specific entry of a dictionary\n"
"      debug:\n"
"        msg: \"The {{ service[type]['name'] }} will be installed with the packages {{ service[type].rpm }}\"\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:534
#, no-wrap
msgid ""
"$ ansible-playbook display-dict.yml\n"
"\n"
"PLAY [ansible_clients] *********************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Print a specific entry of a dictionnaire] ********************************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"The apache will be installed with the packages httpd\"\n"
"}\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"192.168.1.11               : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
"\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/02-advanced.md:553
#, no-wrap
msgid "Override the `type` variable using the command line:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:554
#, no-wrap
msgid ""
"ansible-playbook --extra-vars \"type=db\" display-dict.yml\n"
"\n"
"PLAY [ansible_clients] *********************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Print a specific entry of a dictionary] ********************************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"The mariadb will be installed with the packages mariadb-server\"\n"
"}\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"192.168.1.11               : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:573
#, no-wrap
msgid ""
"type: web\n"
"service:\n"
"  web:\n"
"    name: apache\n"
"    rpm: httpd\n"
"  db:\n"
"    name: mariadb\n"
"    rpm: mariadb-server\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:584
#, no-wrap
msgid ""
"---\n"
"- hosts: ansible_clients\n"
"  vars_files:\n"
"    - vars.yml\n"
"\n"
"  tasks:\n"
"\n"
"    - name: Print a specific entry of a dictionary\n"
"      debug:\n"
"        msg: \"The {{ service[type]['name'] }} will be installed with the packages {{ service[type].rpm }}\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:603
#, no-wrap
msgid "    You will have to transform your `service` variable, which is a dictionary, to an item or a list with the help of the jinja filters `dict2items` or `list` as this:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:607
#, no-wrap
msgid ""
"    ```\n"
"    {{ service | dict2items }}\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:613
#, no-wrap
msgid "With `dict2items`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:614
#, no-wrap
msgid ""
"---\n"
"- hosts: ansible_clients\n"
"  vars_files:\n"
"    - vars.yml\n"
"\n"
"  tasks:\n"
"\n"
"    - name: Print a dictionary variable with a loop\n"
"      debug:\n"
"        msg: \"{{item.key }} | The {{ item.value.name }} will be installed with the packages {{ item.value.rpm }}\"\n"
"      loop: \"{{ service | dict2items }}\"              \n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:628
#, no-wrap
msgid ""
"$ ansible-playbook display-dict.yml\n"
"\n"
"PLAY [ansible_clients] *********************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Print a dictionary variable with a loop] ********************************************************\n"
"ok: [192.168.1.11] => (item={'key': 'web', 'value': {'name': 'apache', 'rpm': 'httpd'}}) => {\n"
"    \"msg\": \"web | The apache will be installed with the packages httpd\"\n"
"}\n"
"ok: [192.168.1.11] => (item={'key': 'db', 'value': {'name': 'mariadb', 'rpm': 'mariadb-server'}}) => {\n"
"    \"msg\": \"db | The mariadb will be installed with the packages mariadb-server\"\n"
"}\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"192.168.1.11               : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/02-advanced.md:650
#, no-wrap
msgid "With `list`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:651
#, no-wrap
msgid ""
"---\n"
"- hosts: ansible_clients\n"
"  vars_files:\n"
"    - vars.yml\n"
"\n"
"  tasks:\n"
"\n"
"    - name: Print a dictionary variable with a loop\n"
"      debug:\n"
"        msg: \"The {{ item.name }} will be installed with the packages {{ item.rpm }}\"\n"
"      loop: \"{{ service.values() | list}}\"\n"
"~                                                 \n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:666
#, no-wrap
msgid ""
"$ ansible-playbook display-dict.yml\n"
"\n"
"PLAY [ansible_clients] *********************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Print a dictionary variable with a loop] ********************************************************\n"
"ok: [192.168.1.11] => (item={'name': 'apache', 'rpm': 'httpd'}) => {\n"
"    \"msg\": \"The apache will be installed with the packages httpd\"\n"
"}\n"
"ok: [192.168.1.11] => (item={'name': 'mariadb', 'rpm': 'mariadb-server'}) => {\n"
"    \"msg\": \"The mariadb will be installed with the packages mariadb-server\"\n"
"}\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"192.168.1.11               : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:688
#, no-wrap
msgid ""
"---\n"
"- hosts: ansible_clients\n"
"  vars_files:\n"
"    - vars.yml\n"
"\n"
"  tasks:\n"
"\n"
"    - name: Print a dictionary variable\n"
"      debug:\n"
"        msg: \"The {{ service.web.name }} will be installed with the packages {{ service.web.rpm }}\"\n"
"      when: type == \"web\"\n"
"\n"
"\n"
"    - name: Print a dictionary variable\n"
"      debug:\n"
"        msg: \"The {{ service.db.name }} will be installed with the packages {{ service.db.rpm }}\"\n"
"      when: type == \"db\"\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/02-advanced.md:708
#, no-wrap
msgid ""
"$ ansible-playbook display-dict.yml\n"
"\n"
"PLAY [ansible_clients] *********************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Print a dictionary variable] ********************************************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"The apache will be installed with the packages httpd\"\n"
"}\n"
"\n"
"TASK [Print a dictionary variable] ********************************************************************\n"
"skipping: [192.168.1.11]\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"192.168.1.11               : ok=2    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   \n"
"\n"
"$ ansible-playbook --extra-vars \"type=db\" display-dict.yml\n"
"\n"
"PLAY [ansible_clients] *********************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Print a dictionary variable] ********************************************************************\n"
"skipping: [192.168.1.11]\n"
"\n"
"TASK [Print a dictionary variable] ********************************************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"The mariadb will be installed with the packages mariadb-server\"\n"
"}\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"192.168.1.11               : ok=2    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   \n"
msgstr ""

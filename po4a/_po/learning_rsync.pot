# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-06-13 20:27+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: YAML Front Matter: title
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:1
#, no-wrap
msgid "rsync demo 01"
msgstr ""

#. type: Title #
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:8
#, no-wrap
msgid "Preface"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:11
msgid ""
"`rsync` needs to perform user authentication before data synchronization. "
"**There are two protocol methods for authentication: SSH protocol and rsync "
"protocol (the default port of rsync protocol is 873)**"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:14
msgid ""
"SSH protocol verification login method: use SSH protocol as the basis for "
"user identity authentication (that is, use the system user and password of "
"GNU/Linux itself for verification), and then perform data synchronization."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:14
msgid ""
"rsync protocol verification login method: use rsync protocol for user "
"identity authentication (non-GNU/Linux system users, similar to vsftpd "
"virtual users), and then perform data synchronization."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:16
msgid ""
"Before the specific demonstration of rsync synchronization, you need to use "
"the `rsync` command. In Rocky Linux 8, the rsync rpm package is installed by "
"default, and the version is 3.1.3-12, as follows:"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:17
#, no-wrap
msgid ""
"[root@Rocky ~]# rpm -qa|grep rsync\n"
"rsync-3.1.3-12.el8.x86_64\n"
msgstr ""

#. type: Fenced code block (txt)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:22
#, no-wrap
msgid ""
"Basic format: rsync [options] original location target location\n"
"Commonly used options:\n"
"-a: archive mode, recursive and preserves the attributes of the file object, which is equivalent to -rlptgoD (without -H, -A, -X)\n"
"-v: Display detailed information about the synchronization process\n"
"-z: compress when transferring files\n"
"-H: Keep hard link files\n"
"-A: retain ACL permissions\n"
"-X: retain chattr permissions\n"
"-r: Recursive mode, including all files in the directory and subdirectories\n"
"-l: still reserved for symbolic link files\n"
"-p: Permission to retain file attributes\n"
"-t: time to retain file attributes\n"
"-g: retain the group belonging to the file attribute (only for super users)\n"
"-o: retain the owner of the file attributes (only for super users)\n"
"-D: Keep device files and other special files\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:41
msgid ""
"The author's personal use: `rsync -avz original location target location`"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:42
#, no-wrap
msgid "Environment Description"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:48
msgid ""
"|Item|Description| |---|---| | Rocky Linux 8(Server) | 192.168.100.4/24 | | "
"Fedora 34(client) | 192.168.100.5/24 |"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:50
msgid "You can use Fedora 34 to upload and download"
msgstr ""

#. type: Fenced code block (mermaid)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:51
#, no-wrap
msgid ""
"graph LR;\n"
"RockyLinux8-->|pull/download|Fedora34;\n"
"Fedora34-->|push/upload|RockyLinux8;\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:58
msgid "You can also use Rocky Linux 8 to upload and download"
msgstr ""

#. type: Fenced code block (mermaid)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:59
#, no-wrap
msgid ""
"graph LR;\n"
"RockyLinux8-->|push/upload|Fedora34;\n"
"Fedora34-->|pull/download|RockyLinux8;\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:65
#, no-wrap
msgid "Demonstration based on SSH protocol"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:68
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:96
#: ../src/docs/books/learning_rsync/03_rsync_demo02.md:37
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:63
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:99
#: ../src/docs/books/learning_rsync/06_rsync_inotify.md:125
#: ../src/docs/books/learning_rsync/06_rsync_inotify.md:146
#: ../src/docs/books/learning_rsync/06_rsync_inotify.md:151
#: ../src/docs/books/learning_rsync/07_rsync_unison_use.md:37
#: ../src/docs/books/learning_rsync/07_rsync_unison_use.md:136
#: ../src/docs/books/learning_rsync/07_rsync_unison_use.md:140
#: ../src/docs/books/learning_rsync/07_rsync_unison_use.md:146
msgid "!!! tip \"tip\""
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:70
#, no-wrap
msgid "    Here, both Rocky Linux 8 and Fedora 34 use the root user to log in. Fedora 34 is the client and Rocky Linux 8 is the server.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:71
#: ../src/docs/books/learning_rsync/03_rsync_demo02.md:74
#, no-wrap
msgid "pull/download"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:74
msgid ""
"Since it is based on the SSH protocol, we first create a user in the server:"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:75
#, no-wrap
msgid ""
"[root@Rocky ~]# useradd testrsync\n"
"[root@Rocky ~]# passwd testrsync\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:81
msgid ""
"On the client side, we pull/download it, and the file on the server is /"
"rsync/aabbcc"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:82
#, no-wrap
msgid ""
"[root@fedora ~]# rsync -avz testrsync@192.168.100.4:/rsync/aabbcc /root\n"
"testrsync@192.168.100.4 ' s password:\n"
"receiving incremental file list\n"
"aabbcc\n"
"sent 43 bytes received 85 bytes 51.20 bytes/sec\n"
"total size is 0 speedup is 0.00\n"
"[root@fedora ~]# cd\n"
"[root@fedora ~]# ls\n"
"aabbcc\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:94
msgid "The transfer was successful."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:98
#, no-wrap
msgid "    If the server's SSH port is not the default 22, you can specify the port in a similar way---`rsync -avz -e 'ssh -p [port]' `.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:99
#: ../src/docs/books/learning_rsync/03_rsync_demo02.md:94
#, no-wrap
msgid "push/upload"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:101
#, no-wrap
msgid ""
"[root@fedora ~]# touch fedora\n"
"[root@fedora ~]# rsync -avz /root/* testrsync@192.168.100.4:/rsync/\n"
"testrsync@192.168.100.4 ' s password:\n"
"sending incremental file list\n"
"anaconda-ks.cfg\n"
"fedora\n"
"rsync: mkstemp \" /rsync/.anaconda-ks.cfg.KWf7JF \" failed: Permission denied (13)\n"
"rsync: mkstemp \" /rsync/.fedora.fL3zPC \" failed: Permission denied (13)\n"
"sent 760 bytes received 211 bytes 277.43 bytes/sec\n"
"total size is 883 speedup is 0.91\n"
"rsync error: some files/attrs were not transferred (see previous errors) (code 23) at main.c(1330) [sender = 3.2.3]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:116
#, no-wrap
msgid "**Prompt permission denied, how to deal with it?**\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:118
msgid ""
"First check the permissions of the /rsync/ directory. Obviously, there is no "
"\"w\" permission. We can use `setfacl` to give permission:"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:119
#, no-wrap
msgid ""
"[root@Rocky ~ ] # ls -ld /rsync/\n"
"drwxr-xr-x 2 root root 4096 November 2 15:05 /rsync/\n"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:124
#, no-wrap
msgid ""
"[root@Rocky ~ ] # setfacl -mu:testrsync:rwx /rsync/\n"
"[root@Rocky ~ ] # getfacl /rsync/\n"
"getfacl: Removing leading ' / ' from absolute path names\n"
"# file: rsync/\n"
"# owner: root\n"
"# group: root\n"
"user::rwx\n"
"user:testrsync:rwx\n"
"group::rx\n"
"mask::rwx\n"
"other::rx\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:139
msgid "Try again, success!"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/02_rsync_demo01.md:140
#, no-wrap
msgid ""
"[root@fedora ~ ] # rsync -avz /root/* testrsync@192.168.100.4:/rsync/\n"
"testrsync@192.168.100.4 ' s password:\n"
"sending incremental file list\n"
"anaconda-ks.cfg\n"
"fedora\n"
"sent 760 bytes received 54 bytes 180.89 bytes/sec\n"
"total size is 883 speedup is 1.08\n"
msgstr ""

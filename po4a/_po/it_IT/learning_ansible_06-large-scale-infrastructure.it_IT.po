# Italian translations for po package
# Traduzioni italiane per il pacchetto po.
# Copyright (C) 2023 Free Software Foundation, Inc.
# This file is distributed under the same license as the po package.
# Automatically generated, 2023.
#
msgid ""
msgstr ""
"Project-Id-Version: po 4a\n"
"POT-Creation-Date: 2023-06-16 15:06+0000\n"
"PO-Revision-Date: 2023-06-16 15:06+0000\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"Language: it\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=(n != 1);\n"

#. type: Plain text
#: ../src/docs/books/admin_guide/01-presentation.md:12
#: ../src/docs/books/admin_guide/12-network.md:12
#: ../src/docs/books/learning_ansible/01-basic.md:15
#: ../src/docs/books/learning_ansible/02-advanced.md:12
#: ../src/docs/books/learning_ansible/03-working-with-files.md:12
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:12
#: ../src/docs/books/learning_ansible/05-deployments.md:12
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:12
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:14
#: ../src/docs/books/learning_bash/01-first-script.md:19
#: ../src/docs/books/learning_bash/02-using-variables.md:19
#: ../src/docs/books/learning_bash/03-data-entry-and-manipulations.md:19
#: ../src/docs/books/learning_bash/05-tests.md:17
#: ../src/docs/books/learning_bash/06-conditional-structures.md:17
#: ../src/docs/books/learning_bash/07-loops.md:17
#, no-wrap
msgid "**Objectives**: In this chapter you will learn how to:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/04-advanced-commands.md:43
#: ../src/docs/books/admin_guide/04-advanced-commands.md:220
#: ../src/docs/books/admin_guide/04-advanced-commands.md:271
#: ../src/docs/books/admin_guide/04-advanced-commands.md:334
#: ../src/docs/books/admin_guide/05-vi.md:70
#: ../src/docs/books/admin_guide/05-vi.md:206
#: ../src/docs/books/admin_guide/05-vi.md:272
#: ../src/docs/books/admin_guide/06-users.md:36
#: ../src/docs/books/admin_guide/06-users.md:92
#: ../src/docs/books/admin_guide/06-users.md:220
#: ../src/docs/books/admin_guide/06-users.md:350
#: ../src/docs/books/admin_guide/06-users.md:598
#: ../src/docs/books/admin_guide/06-users.md:754
#: ../src/docs/books/admin_guide/06-users.md:818
#: ../src/docs/books/admin_guide/11-tasks.md:174
#: ../src/docs/books/admin_guide/12-network.md:158
#: ../src/docs/books/admin_guide/03-commands.md:516
#: ../src/docs/books/admin_guide/03-commands.md:693
#: ../src/docs/books/admin_guide/03-commands.md:1216
#: ../src/docs/books/admin_guide/03-commands.md:1262
#: ../src/docs/books/admin_guide/03-commands.md:1297
#: ../src/docs/books/admin_guide/07-file-systems.md:395
#: ../src/docs/books/admin_guide/07-file-systems.md:437
#: ../src/docs/books/admin_guide/07-file-systems.md:447
#: ../src/docs/books/admin_guide/07-file-systems.md:515
#: ../src/docs/books/admin_guide/07-file-systems.md:556
#: ../src/docs/books/admin_guide/07-file-systems.md:627
#: ../src/docs/books/admin_guide/07-file-systems.md:653
#: ../src/docs/books/admin_guide/07-file-systems.md:672
#: ../src/docs/books/admin_guide/07-file-systems.md:676
#: ../src/docs/books/admin_guide/07-file-systems.md:1019
#: ../src/docs/books/admin_guide/08-process.md:49
#: ../src/docs/books/admin_guide/08-process.md:238
#: ../src/docs/books/admin_guide/09-backups.md:27
#: ../src/docs/books/admin_guide/09-backups.md:116
#: ../src/docs/books/admin_guide/09-backups.md:133
#: ../src/docs/books/admin_guide/09-backups.md:148
#: ../src/docs/books/admin_guide/09-backups.md:281
#: ../src/docs/books/admin_guide/09-backups.md:285
#: ../src/docs/books/admin_guide/09-backups.md:301
#: ../src/docs/books/admin_guide/09-backups.md:342
#: ../src/docs/books/admin_guide/09-backups.md:352
#: ../src/docs/books/admin_guide/09-backups.md:554
#: ../src/docs/books/admin_guide/09-backups.md:771
#: ../src/docs/books/admin_guide/10-boot.md:114
#: ../src/docs/books/admin_guide/10-boot.md:153
#: ../src/docs/books/admin_guide/10-boot.md:165
#: ../src/docs/books/admin_guide/13-softwares.md:22
#: ../src/docs/books/learning_ansible/01-basic.md:51
#: ../src/docs/books/learning_ansible/01-basic.md:104
#: ../src/docs/books/learning_ansible/01-basic.md:112
#: ../src/docs/books/learning_ansible/01-basic.md:328
#: ../src/docs/books/learning_ansible/01-basic.md:415
#: ../src/docs/books/learning_ansible/01-basic.md:492
#: ../src/docs/books/learning_ansible/01-basic.md:633
#: ../src/docs/books/learning_ansible/01-basic.md:656
#: ../src/docs/books/learning_ansible/02-advanced.md:34
#: ../src/docs/books/learning_ansible/02-advanced.md:150
#: ../src/docs/books/learning_ansible/02-advanced.md:182
#: ../src/docs/books/learning_ansible/02-advanced.md:269
#: ../src/docs/books/learning_ansible/02-advanced.md:277
#: ../src/docs/books/learning_ansible/02-advanced.md:287
#: ../src/docs/books/learning_ansible/02-advanced.md:293
#: ../src/docs/books/learning_ansible/02-advanced.md:360
#: ../src/docs/books/learning_ansible/02-advanced.md:428
#: ../src/docs/books/learning_ansible/02-advanced.md:601
#: ../src/docs/books/learning_ansible/03-working-with-files.md:33
#: ../src/docs/books/learning_ansible/03-working-with-files.md:58
#: ../src/docs/books/learning_ansible/03-working-with-files.md:77
#: ../src/docs/books/learning_ansible/03-working-with-files.md:96
#: ../src/docs/books/learning_ansible/03-working-with-files.md:113
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:65
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:432
#: ../src/docs/books/learning_ansible/05-deployments.md:41
#: ../src/docs/books/learning_ansible/05-deployments.md:124
#: ../src/docs/books/learning_ansible/05-deployments.md:196
#: ../src/docs/books/learning_ansible/05-deployments.md:616
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:36
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:40
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:80
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:214
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:32
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:75
#: ../src/docs/books/learning_bash/02-using-variables.md:153
#: ../src/docs/books/learning_bash/02-using-variables.md:193
#: ../src/docs/books/learning_bash/05-tests.md:245
#: ../src/docs/books/learning_bash/07-loops.md:180
#: ../src/docs/books/lxd_server/04-firewall.md:80
#: ../src/docs/books/nvchad/plugins/md_preview.md:140
#: ../src/docs/books/nvchad/template_chadrc.md:239
#: ../src/docs/gemstones/https_rsa_keygen.md:34
#: ../src/docs/gemstones/systemd_service_for_python_script.md:80
#: ../src/docs/guides/8_6_installation.md:37
#: ../src/docs/guides/8_6_installation.md:168
#: ../src/docs/guides/8_6_installation.md:176
#: ../src/docs/guides/8_6_installation.md:182
#: ../src/docs/guides/8_6_installation.md:250
#: ../src/docs/guides/automation/olivetin.md:60
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:307
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:323
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:486
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:533
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:667
#: ../src/docs/guides/containers/lxd_web_servers.md:35
#: ../src/docs/guides/containers/lxd_web_servers.md:45
#: ../src/docs/guides/containers/lxd_web_servers.md:301
#: ../src/docs/guides/containers/lxd_web_servers.md:352
#: ../src/docs/guides/containers/lxd_web_servers.md:605
#: ../src/docs/guides/containers/lxd_web_servers.md:665
#: ../src/docs/guides/containers/lxd_web_servers.md:737
#: ../src/docs/guides/containers/lxd_web_servers.md:796
#: ../src/docs/guides/contribute/mkdocs_lsyncd.md:53
#: ../src/docs/guides/contribute/navigation.md:60
#: ../src/docs/guides/custom-linux-kernel.md:453
#: ../src/docs/guides/editors/micro.md:30
#: ../src/docs/guides/file_sharing/glusterfs.md:46
#: ../src/docs/guides/file_sharing/glusterfs.md:64
#: ../src/docs/guides/file_sharing/glusterfs.md:102
#: ../src/docs/guides/file_sharing/glusterfs.md:203
#: ../src/docs/guides/installation.md:36 ../src/docs/guides/installation.md:175
#: ../src/docs/guides/installation.md:183
#: ../src/docs/guides/installation.md:193
#: ../src/docs/guides/installation.md:266
#: ../src/docs/guides/proxies/haproxy_apache_lxd.md:71
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:31
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:253
#: ../src/docs/guides/security/firewalld-beginners.md:89
#: ../src/docs/guides/security/firewalld-beginners.md:144
#: ../src/docs/guides/security/firewalld-beginners.md:258
#: ../src/docs/guides/security/firewalld.md:51
#: ../src/docs/guides/security/firewalld.md:94
#: ../src/docs/guides/security/firewalld.md:228
#: ../src/docs/guides/security/firewalld.md:372
#: ../src/docs/guides/security/generating_ssl_keys_lets_encrypt.md:72
#: ../src/docs/guides/security/learning_selinux.md:137
#: ../src/docs/guides/security/learning_selinux.md:253
#: ../src/docs/guides/security/learning_selinux.md:356
#: ../src/docs/guides/virtualization/vbox-rocky.md:27
#: ../src/docs/guides/web/nginx-mainline.md:30
#: ../src/docs/guides/web/nginx-mainline.md:99
#: ../src/docs/guides/web/nginx-mainline.md:141
#: ../src/docs/guides/web/nginx-mainline.md:254
#: ../src/docs/guides/web/nginx-mainline.md:333
#: ../src/docs/guides/web/nginx-multisite.md:73
#: ../src/docs/guides/web/nginx-multisite.md:233
#: ../src/docs/guides/web/nginx-multisite.md:292
#: ../src/docs/guides/web/nginx-multisite.md:302
#: ../src/docs/guides/web/php.md:33 ../src/docs/guides/web/php.md:76
#: ../src/docs/guides/web/php.md:181 ../src/docs/guides/web/php.md:230
#: ../src/docs/guides/web/php.md:271 ../src/docs/guides/web/php.md:467
#: ../src/docs/guides/web/php.md:471 ../src/docs/release_notes/9_2.md:26
#, no-wrap
msgid "!!! Note\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:25
#: ../src/docs/books/admin_guide/12-network.md:25
#: ../src/docs/books/learning_ansible/01-basic.md:26
#: ../src/docs/books/learning_ansible/02-advanced.md:24
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:22
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:14
#, no-wrap
msgid "**Reading time**: 30 minutes\n"
msgstr ""

#. type: YAML Front Matter: title
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:1
#, no-wrap
msgid "Large Scale infrastructure"
msgstr ""

#. type: Title #
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:5
#, no-wrap
msgid "Ansible - Large Scale infrastructure"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:8
#, no-wrap
msgid "In this chapter you will learn how to scale your configuration management system.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:15
#, no-wrap
msgid ""
":heavy_check_mark: Organize your code for large infrastructure;   \n"
":heavy_check_mark: Apply all or part of your configuration management to a group of nodes;   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:17
#, no-wrap
msgid ":checkered_flag: **ansible**, **config management**, **scale**\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:20
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:22
#, no-wrap
msgid ""
"**Knowledge**: :star: :star: :star:       \n"
"**Complexity**: :star: :star: :star: :star:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:26
#, no-wrap
msgid "We have seen in the previous chapters how to organize our code in the form of roles but also how to use some roles for the management of updates (patch management) or the deployment of code.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:28
#, no-wrap
msgid "What about configuration management? How to manage the configuration of tens, hundreds, or even thousands of virtual machines with Ansible?\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:30
#, no-wrap
msgid "The advent of the cloud has changed the traditional methods a bit. The VM is configured at deployment. If its configuration is no longer compliant, it is destroyed and replaced by a new one.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:32
#, no-wrap
msgid "The organization of the configuration management system presented in this chapter will respond to these two ways of consuming IT: \"one-shot\" use or regular \"re-configuration\" of a fleet.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:34
#, no-wrap
msgid "However, be careful: using Ansible to ensure park compliance requires changing work habits. It is no longer possible to manually modify the configuration of a service manager without seeing these modifications overwritten the next time Ansible is run.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:38
#, no-wrap
msgid "    What we are going to set up below is not Ansible's favorite terrain. Technologies like Puppet or Salt will do much better. Let's remember that Ansible is a Swiss army knife of automation and is agentless, which explains the differences in performance.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:42
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/sample_setup.html)\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:43
#, no-wrap
msgid "Variables storage"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:46
#, no-wrap
msgid "The first thing we have to discuss is the separation between data and Ansible code.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:48
#, no-wrap
msgid "As the code gets larger and more complex, it will be more and more complicated to modify the variables it contains.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:50
#, no-wrap
msgid "To ensure the maintenance of your site, the most important thing is correctly separating the variables from the Ansible code.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:52
#, no-wrap
msgid "We haven't discussed it here yet, but you should know that Ansible can automatically load the variables it finds in specific folders depending on the inventory name of the managed node, or its member groups.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:54
#, no-wrap
msgid "The Ansible documentation suggests that we organize our code as below:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:55
#, no-wrap
msgid ""
"inventories/\n"
"   production/\n"
"      hosts               # inventory file for production servers\n"
"      group_vars/\n"
"         group1.yml       # here we assign variables to particular groups\n"
"         group2.yml\n"
"      host_vars/\n"
"         hostname1.yml    # here we assign variables to particular systems\n"
"         hostname2.yml\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:68
#, no-wrap
msgid "If the targeted node is `hostname1` of `group1`, the variables contained in the `hostname1.yml` and `group1.yml` files will be automatically loaded. It's a nice way to store all the data for all your roles in the same place.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:70
#, no-wrap
msgid "In this way, the inventory file of your server becomes its identity card. It contains all the variables that differ from the default variables for your server.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:72
#, no-wrap
msgid "From the point of view of centralization of variables, it becomes essential to organize the naming of its variables in the roles by prefixing them, for example, with the name of the role. It is also recommended to use flat variable names rather than dictionaries.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:74
#, no-wrap
msgid "For example, if you want to make the `PermitRootLogin` value in the `sshd_config` file a variable, a good variable name could be `sshd_config_permitrootlogin` (instead of `sshd.config.permitrootlogin` which could also be a good variable name).\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:75
#, no-wrap
msgid "About Ansible tags"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:78
#, no-wrap
msgid "The use of Ansible tags allows you to execute or skip a part of the tasks in your code.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:82
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_tags.html)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:84
#, no-wrap
msgid "For example, let's modify our users creation task:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:85
#, no-wrap
msgid ""
"- name: add users\n"
"  user:\n"
"    name: \"{{ item }}\"\n"
"    state: present\n"
"    groups: \"users\"\n"
"  loop:\n"
"     - antoine\n"
"     - patrick\n"
"     - steven\n"
"     - xavier\n"
"  tags: users\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:100
#, no-wrap
msgid "You can now play only the tasks with the tag `users` with the `ansible-playbook` option `--tags`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:101
#, no-wrap
msgid "ansible-playbook -i inventories/production/hosts --tags users site.yml\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:106
#, no-wrap
msgid "You can also use the `--skip-tags` option.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:107
#, no-wrap
msgid "About the directory layout"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:110
#, no-wrap
msgid "Let's focus on a proposal for the organization of files and directories necessary for the proper functioning of a CMS (Content Management System).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:112
#, no-wrap
msgid "Our starting point will be the `site.yml` file. This file is a bit like the orchestra conductor of the CMS since it will only include the necessary roles for the target nodes if needed:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:113
#, no-wrap
msgid ""
"---\n"
"- name: \"Config Management for {{ target }}\"\n"
"  hosts: \"{{ target }}\"\n"
"\n"
"  roles:\n"
"\n"
"    - role: roles/functionality1\n"
"\n"
"    - role: roles/functionality2\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:126
#, no-wrap
msgid "Of course, those roles must be created under the `roles` directory at the same level as the `site.yml` file.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:128
#, no-wrap
msgid "I like to manage my global vars inside a `vars/global_vars.yml`, even if I could store them inside a file located at `inventories/production/group_vars/all.yml`\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:129
#, no-wrap
msgid ""
"---\n"
"- name: \"Config Management for {{ target }}\"\n"
"  hosts: \"{{ target }}\"\n"
"  vars_files:\n"
"    - vars/global_vars.yml\n"
"  roles:\n"
"\n"
"    - role: roles/functionality1\n"
"\n"
"    - role: roles/functionality2\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:143
#, no-wrap
msgid "I also like to keep the possibility of disabling a functionality. So I include my roles with a condition and a default value like this:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:144
#, no-wrap
msgid ""
"---\n"
"- name: \"Config Management for {{ target }}\"\n"
"  hosts: \"{{ target }}\"\n"
"  vars_files:\n"
"    - vars/global_vars.yml\n"
"  roles:\n"
"\n"
"    - role: roles/functionality1\n"
"      when:\n"
"        - enable_functionality1|default(true)\n"
"\n"
"    - role: roles/functionality2\n"
"      when:\n"
"        - enable_functionality2|default(false)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:162
#, no-wrap
msgid "Don't forget to use the tags:\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:164
#, no-wrap
msgid ""
"name: \"Config Management for {{ target }}\"\n"
"hosts: \"{{ target }}\"\n"
"vars_files:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:164
#, no-wrap
msgid ""
"    - vars/global_vars.yml\n"
"  roles:\n"
"\n"
"    - role: roles/functionality1\n"
"      when:\n"
"        - enable_functionality1|default(true)\n"
"      tags:\n"
"        - functionality1\n"
"\n"
"    - role: roles/functionality2\n"
"      when:\n"
"        - enable_functionality2|default(false)\n"
"      tags:\n"
"        - functionality2\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:185
#, no-wrap
msgid "You should get something like this:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:186
#, no-wrap
msgid ""
"$ tree cms\n"
"cms\n"
"├── inventories\n"
"│   └── production\n"
"│       ├── group_vars\n"
"│       │   └── plateform.yml\n"
"│       ├── hosts\n"
"│       └── host_vars\n"
"│           ├── client1.yml\n"
"│           └── client2.yml\n"
"├── roles\n"
"│   ├── functionality1\n"
"│   │   ├── defaults\n"
"│   │   │   └── main.yml\n"
"│   │   └── tasks\n"
"│   │       └── main.yml\n"
"│   └── functionality2\n"
"│       ├── defaults\n"
"│       │   └── main.yml\n"
"│       └── tasks\n"
"│           └── main.yml\n"
"├── site.yml\n"
"└── vars\n"
"    └── global_vars.yml\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:216
#, no-wrap
msgid "    You are free to develop your roles within a collection\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:217
#: ../src/docs/gemstones/systemd_service_for_python_script.md:118
#, no-wrap
msgid "Tests"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:220
#, no-wrap
msgid "Let's launch the playbook and run some tests:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:221
#, no-wrap
msgid ""
"$ ansible-playbook -i inventories/production/hosts -e \"target=client1\" site.yml\n"
"\n"
"PLAY [Config Management for client1] ****************************************************************************\n"
"\n"
"TASK [Gathering Facts] ******************************************************************************************\n"
"ok: [client1]\n"
"\n"
"TASK [roles/functionality1 : Task in functionality 1] *********************************************************\n"
"ok: [client1] => {\n"
"    \"msg\": \"You are in functionality 1\"\n"
"}\n"
"\n"
"TASK [roles/functionality2 : Task in functionality 2] *********************************************************\n"
"skipping: [client1]\n"
"\n"
"PLAY RECAP ******************************************************************************************************\n"
"client1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:242
#, no-wrap
msgid "As you can see, by default, only the tasks of the `functionality1` role are played.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:244
#, no-wrap
msgid "Let's activate in the inventory the `functionality2` for our targeted node and rerun the playbook:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:245
#, no-wrap
msgid ""
"$ vim inventories/production/host_vars/client1.yml\n"
"---\n"
"enable_functionality2: true\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:252
#, no-wrap
msgid ""
"$ ansible-playbook -i inventories/production/hosts -e \"target=client1\" site.yml\n"
"\n"
"PLAY [Config Management for client1] ****************************************************************************\n"
"\n"
"TASK [Gathering Facts] ******************************************************************************************\n"
"ok: [client1]\n"
"\n"
"TASK [roles/functionality1 : Task in functionality 1] *********************************************************\n"
"ok: [client1] => {\n"
"    \"msg\": \"You are in functionality 1\"\n"
"}\n"
"\n"
"TASK [roles/functionality2 : Task in functionality 2] *********************************************************\n"
"ok: [client1] => {\n"
"    \"msg\": \"You are in functionality 2\"\n"
"}\n"
"\n"
"PLAY RECAP ******************************************************************************************************\n"
"client1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:275
#, no-wrap
msgid "Try to apply only `functionality2`:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:276
#, no-wrap
msgid ""
"$ ansible-playbook -i inventories/production/hosts -e \"target=client1\" --tags functionality2 site.yml\n"
"\n"
"PLAY [Config Management for client1] ****************************************************************************\n"
"\n"
"TASK [Gathering Facts] ******************************************************************************************\n"
"ok: [client1]\n"
"\n"
"TASK [roles/functionality2 : Task in functionality 2] *********************************************************\n"
"ok: [client1] => {\n"
"    \"msg\": \"You are in functionality 2\"\n"
"}\n"
"\n"
"PLAY RECAP ******************************************************************************************************\n"
"client1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:294
#, no-wrap
msgid "Let's run on the whole inventory:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:295
#, no-wrap
msgid ""
"$ ansible-playbook -i inventories/production/hosts -e \"target=plateform\" site.yml\n"
"\n"
"PLAY [Config Management for plateform] **************************************************************************\n"
"\n"
"TASK [Gathering Facts] ******************************************************************************************\n"
"ok: [client1]\n"
"ok: [client2]\n"
"\n"
"TASK [roles/functionality1 : Task in functionality 1] *********************************************************\n"
"ok: [client1] => {\n"
"    \"msg\": \"You are in functionality 1\"\n"
"}\n"
"ok: [client2] => {\n"
"    \"msg\": \"You are in functionality 1\"\n"
"}\n"
"\n"
"TASK [roles/functionality2 : Task in functionality 2] *********************************************************\n"
"ok: [client1] => {\n"
"    \"msg\": \"You are in functionality 2\"\n"
"}\n"
"skipping: [client2]\n"
"\n"
"PLAY RECAP ******************************************************************************************************\n"
"client1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
"client2                    : ok=2    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:324
#, no-wrap
msgid "As you can see, `functionality2` is only played on the `client1`.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:325
#, no-wrap
msgid "Benefits"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:328
#, no-wrap
msgid "By following the advice given in the Ansible documentation, you will quickly obtain a:\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:332
#, no-wrap
msgid "easily maintainable source code even if it contains a large number of roles\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:332
#, no-wrap
msgid "a relatively fast, repeatable compliance system that you can apply partially or completely\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:332
#, no-wrap
msgid "can be adapted on a case-by-case basis and by servers\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:332
#, no-wrap
msgid "the specifics of your information system are separated from the code, easily audit-able, and centralized in the inventory files of your configuration management.\n"
msgstr ""

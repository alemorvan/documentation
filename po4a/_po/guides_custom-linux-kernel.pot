# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-06-16 15:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: ../src/docs/books/admin_guide/04-advanced-commands.md:43
#: ../src/docs/books/admin_guide/04-advanced-commands.md:220
#: ../src/docs/books/admin_guide/04-advanced-commands.md:271
#: ../src/docs/books/admin_guide/04-advanced-commands.md:334
#: ../src/docs/books/admin_guide/05-vi.md:70
#: ../src/docs/books/admin_guide/05-vi.md:206
#: ../src/docs/books/admin_guide/05-vi.md:272
#: ../src/docs/books/admin_guide/06-users.md:36
#: ../src/docs/books/admin_guide/06-users.md:92
#: ../src/docs/books/admin_guide/06-users.md:220
#: ../src/docs/books/admin_guide/06-users.md:350
#: ../src/docs/books/admin_guide/06-users.md:598
#: ../src/docs/books/admin_guide/06-users.md:754
#: ../src/docs/books/admin_guide/06-users.md:818
#: ../src/docs/books/admin_guide/11-tasks.md:174
#: ../src/docs/books/admin_guide/12-network.md:158
#: ../src/docs/books/admin_guide/03-commands.md:516
#: ../src/docs/books/admin_guide/03-commands.md:693
#: ../src/docs/books/admin_guide/03-commands.md:1216
#: ../src/docs/books/admin_guide/03-commands.md:1262
#: ../src/docs/books/admin_guide/03-commands.md:1297
#: ../src/docs/books/admin_guide/07-file-systems.md:395
#: ../src/docs/books/admin_guide/07-file-systems.md:437
#: ../src/docs/books/admin_guide/07-file-systems.md:447
#: ../src/docs/books/admin_guide/07-file-systems.md:515
#: ../src/docs/books/admin_guide/07-file-systems.md:556
#: ../src/docs/books/admin_guide/07-file-systems.md:627
#: ../src/docs/books/admin_guide/07-file-systems.md:653
#: ../src/docs/books/admin_guide/07-file-systems.md:672
#: ../src/docs/books/admin_guide/07-file-systems.md:676
#: ../src/docs/books/admin_guide/07-file-systems.md:1019
#: ../src/docs/books/admin_guide/08-process.md:49
#: ../src/docs/books/admin_guide/08-process.md:238
#: ../src/docs/books/admin_guide/09-backups.md:27
#: ../src/docs/books/admin_guide/09-backups.md:116
#: ../src/docs/books/admin_guide/09-backups.md:133
#: ../src/docs/books/admin_guide/09-backups.md:148
#: ../src/docs/books/admin_guide/09-backups.md:281
#: ../src/docs/books/admin_guide/09-backups.md:285
#: ../src/docs/books/admin_guide/09-backups.md:301
#: ../src/docs/books/admin_guide/09-backups.md:342
#: ../src/docs/books/admin_guide/09-backups.md:352
#: ../src/docs/books/admin_guide/09-backups.md:554
#: ../src/docs/books/admin_guide/09-backups.md:771
#: ../src/docs/books/admin_guide/10-boot.md:114
#: ../src/docs/books/admin_guide/10-boot.md:153
#: ../src/docs/books/admin_guide/10-boot.md:165
#: ../src/docs/books/admin_guide/13-softwares.md:22
#: ../src/docs/books/learning_ansible/01-basic.md:51
#: ../src/docs/books/learning_ansible/01-basic.md:104
#: ../src/docs/books/learning_ansible/01-basic.md:112
#: ../src/docs/books/learning_ansible/01-basic.md:328
#: ../src/docs/books/learning_ansible/01-basic.md:415
#: ../src/docs/books/learning_ansible/01-basic.md:492
#: ../src/docs/books/learning_ansible/01-basic.md:633
#: ../src/docs/books/learning_ansible/01-basic.md:656
#: ../src/docs/books/learning_ansible/02-advanced.md:34
#: ../src/docs/books/learning_ansible/02-advanced.md:150
#: ../src/docs/books/learning_ansible/02-advanced.md:182
#: ../src/docs/books/learning_ansible/02-advanced.md:269
#: ../src/docs/books/learning_ansible/02-advanced.md:277
#: ../src/docs/books/learning_ansible/02-advanced.md:287
#: ../src/docs/books/learning_ansible/02-advanced.md:293
#: ../src/docs/books/learning_ansible/02-advanced.md:360
#: ../src/docs/books/learning_ansible/02-advanced.md:428
#: ../src/docs/books/learning_ansible/02-advanced.md:601
#: ../src/docs/books/learning_ansible/03-working-with-files.md:33
#: ../src/docs/books/learning_ansible/03-working-with-files.md:58
#: ../src/docs/books/learning_ansible/03-working-with-files.md:77
#: ../src/docs/books/learning_ansible/03-working-with-files.md:96
#: ../src/docs/books/learning_ansible/03-working-with-files.md:113
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:65
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:432
#: ../src/docs/books/learning_ansible/05-deployments.md:41
#: ../src/docs/books/learning_ansible/05-deployments.md:124
#: ../src/docs/books/learning_ansible/05-deployments.md:196
#: ../src/docs/books/learning_ansible/05-deployments.md:616
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:36
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:40
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:80
#: ../src/docs/books/learning_ansible/06-large-scale-infrastructure.md:214
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:32
#: ../src/docs/books/learning_ansible/07-working-with-filters.md:75
#: ../src/docs/books/learning_bash/02-using-variables.md:153
#: ../src/docs/books/learning_bash/02-using-variables.md:193
#: ../src/docs/books/learning_bash/05-tests.md:245
#: ../src/docs/books/learning_bash/07-loops.md:180
#: ../src/docs/books/lxd_server/04-firewall.md:80
#: ../src/docs/books/nvchad/plugins/md_preview.md:140
#: ../src/docs/books/nvchad/template_chadrc.md:239
#: ../src/docs/gemstones/https_rsa_keygen.md:34
#: ../src/docs/gemstones/systemd_service_for_python_script.md:80
#: ../src/docs/guides/8_6_installation.md:37
#: ../src/docs/guides/8_6_installation.md:168
#: ../src/docs/guides/8_6_installation.md:176
#: ../src/docs/guides/8_6_installation.md:182
#: ../src/docs/guides/8_6_installation.md:250
#: ../src/docs/guides/automation/olivetin.md:60
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:307
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:323
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:486
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:533
#: ../src/docs/guides/automation/templates-automation-packer-vsphere.md:667
#: ../src/docs/guides/containers/lxd_web_servers.md:35
#: ../src/docs/guides/containers/lxd_web_servers.md:45
#: ../src/docs/guides/containers/lxd_web_servers.md:301
#: ../src/docs/guides/containers/lxd_web_servers.md:352
#: ../src/docs/guides/containers/lxd_web_servers.md:605
#: ../src/docs/guides/containers/lxd_web_servers.md:665
#: ../src/docs/guides/containers/lxd_web_servers.md:737
#: ../src/docs/guides/containers/lxd_web_servers.md:796
#: ../src/docs/guides/contribute/mkdocs_lsyncd.md:53
#: ../src/docs/guides/contribute/navigation.md:60
#: ../src/docs/guides/custom-linux-kernel.md:453
#: ../src/docs/guides/editors/micro.md:30
#: ../src/docs/guides/file_sharing/glusterfs.md:46
#: ../src/docs/guides/file_sharing/glusterfs.md:64
#: ../src/docs/guides/file_sharing/glusterfs.md:102
#: ../src/docs/guides/file_sharing/glusterfs.md:203
#: ../src/docs/guides/installation.md:36 ../src/docs/guides/installation.md:175
#: ../src/docs/guides/installation.md:183
#: ../src/docs/guides/installation.md:193
#: ../src/docs/guides/installation.md:266
#: ../src/docs/guides/proxies/haproxy_apache_lxd.md:71
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:31
#: ../src/docs/guides/security/authentication/active_directory_authentication.md:253
#: ../src/docs/guides/security/firewalld-beginners.md:89
#: ../src/docs/guides/security/firewalld-beginners.md:144
#: ../src/docs/guides/security/firewalld-beginners.md:258
#: ../src/docs/guides/security/firewalld.md:51
#: ../src/docs/guides/security/firewalld.md:94
#: ../src/docs/guides/security/firewalld.md:228
#: ../src/docs/guides/security/firewalld.md:372
#: ../src/docs/guides/security/generating_ssl_keys_lets_encrypt.md:72
#: ../src/docs/guides/security/learning_selinux.md:137
#: ../src/docs/guides/security/learning_selinux.md:253
#: ../src/docs/guides/security/learning_selinux.md:356
#: ../src/docs/guides/virtualization/vbox-rocky.md:27
#: ../src/docs/guides/web/nginx-mainline.md:30
#: ../src/docs/guides/web/nginx-mainline.md:99
#: ../src/docs/guides/web/nginx-mainline.md:141
#: ../src/docs/guides/web/nginx-mainline.md:254
#: ../src/docs/guides/web/nginx-mainline.md:333
#: ../src/docs/guides/web/nginx-multisite.md:73
#: ../src/docs/guides/web/nginx-multisite.md:233
#: ../src/docs/guides/web/nginx-multisite.md:292
#: ../src/docs/guides/web/nginx-multisite.md:302
#: ../src/docs/guides/web/php.md:33 ../src/docs/guides/web/php.md:76
#: ../src/docs/guides/web/php.md:181 ../src/docs/guides/web/php.md:230
#: ../src/docs/guides/web/php.md:271 ../src/docs/guides/web/php.md:467
#: ../src/docs/guides/web/php.md:471 ../src/docs/release_notes/9_2.md:26
#, no-wrap
msgid "!!! Note\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/nvchad/index.md:1
#: ../src/docs/books/nvchad/plugins/index.md:1
#: ../src/docs/books/nvchad/plugins/index.md:12
#: ../src/docs/gemstones/markdown-demo-v2.md:12
#: ../src/docs/guides/custom-linux-kernel.md:10
#: ../src/docs/release_notes/index.md:16 ../src/docs/release_notes/index.md:30
#, no-wrap
msgid "Overview"
msgstr ""

#. type: Plain text
#: ../src/docs/gemstones/markdown-demo-v2.md:57
#: ../src/docs/guides/custom-linux-kernel.md:51
#: ../src/docs/guides/custom-linux-kernel.md:197
#, no-wrap
msgid "!!! TIP\n"
msgstr ""

#. type: Yaml Front Matter Array Element: tags
#: ../src/docs/gemstones/view_kernel_conf.md:1
#: ../src/docs/guides/custom-linux-kernel.md:1
#, no-wrap
msgid "kernel"
msgstr ""

#. type: Yaml Front Matter Hash Value: contributors
#: ../src/docs/guides/custom-linux-kernel.md:1
#, no-wrap
msgid "Steven Spencer, Louis Abel"
msgstr ""

#. type: Yaml Front Matter Array Element: tags
#: ../src/docs/guides/custom-linux-kernel.md:1
#, no-wrap
msgid "custom kernel"
msgstr ""

#. type: Yaml Front Matter Hash Value: title
#: ../src/docs/guides/custom-linux-kernel.md:1
#, no-wrap
msgid "Building and Installing Custom Linux Kernels"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:12
#, no-wrap
msgid "In this guide, we’ll walk through the process of acquiring a kernel source tree, configuring it, compiling it, and, finally, installing and booting the kernel.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:14
#, no-wrap
msgid "!!! warning \"Kernel rebuilds are not recommended nor supported for Rocky Linux. Before building a custom kernel or even considering it, ask yourself the following questions:\"\n"
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/guides/custom-linux-kernel.md:21
#, no-wrap
msgid "Is the functionality you need available by installing a kernel module from [elrepo](https://elrepo.org)?\n"
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/guides/custom-linux-kernel.md:21
#, no-wrap
msgid "Is the functionality you need available as a separate module from the kernel itself?\n"
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/guides/custom-linux-kernel.md:21
#, no-wrap
msgid "Are you willing to maintain your own security posture?\n"
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/guides/custom-linux-kernel.md:21
#, no-wrap
msgid "**Are you sure**? Rocky Linux and most other EL derivatives were designed to function as a complete environment. Replacing critical components can affect how the system acts.\n"
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/guides/custom-linux-kernel.md:21
#, no-wrap
msgid "**Are you ABSOLUTELY sure**? 99.9% of the users no longer need to build their own kernel. You may simply need a kernel module/driver, in which case, you can use [elrepo](https://elrepo.org) or build your own kernel module (kmod/dkms)\n"
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/guides/custom-linux-kernel.md:21
#, no-wrap
msgid "**Are you sure you do not just want a newer kernel version**? Newer kernels can be found at [elrepo](https://elrepo.org)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:23
#, no-wrap
msgid "    As a final warning: If you break the kernel, you are on the hook for your system. Rocky Linux volunteers or developers are unable to assist you with these issues.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:24
#, no-wrap
msgid "The Kernel"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:28
#, no-wrap
msgid ""
"Most often, when people say _Linux_, they are usually referring to a \"_Linux distribution_\" —for example, Rocky Linux and Debian are types of Linux distribution. A distribution comprises everything necessary to get Linux to exist as a functional operating system.\n"
"Distributions make use of code from various open source projects that are independent of Linux.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:30
#, no-wrap
msgid "Linux is The kernel. The kernel literally sits right at the heart of the [operating system] matter.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:33
#, no-wrap
msgid ""
"The only thing more fundamental than the kernel is the system hardware itself.\n"
"Although the kernel is a small part of a complete Linux distribution, it is by far the most critical element. If the kernel fails or crashes, the rest of the system goes with it.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:35
#, no-wrap
msgid "The Kernel Source Code"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:38
#, no-wrap
msgid "The Rocky Linux distribution has the source code for the specific kernel version it supports available in one form or another. These could be in the form of a compiled binary (*.src.rpm), a source RPM (*.srpm), or the like.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:40
#, no-wrap
msgid "If you need to download a different (possibly newer) version than the one your specific Rocky Linux distro provides, the first place to look for the source code is at the official kernel web site:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:42
#, no-wrap
msgid "[www.kernel.org](https://www.kernel.org)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:44
#, no-wrap
msgid "This site maintains a listing of web sites mirroring the kernel source, as well as tons of other open source software, distributions and general-purpose utilities.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:46
#, no-wrap
msgid "The list of mirrors is maintained at:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:48
#, no-wrap
msgid "[mirrors.kernel.org](http://mirrors.kernel.org)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:53
#, no-wrap
msgid "    The majority of the downloading, configuring and compiling of the Linux kernel done in the following sections can/should be done as an unprivileged user.However, the final steps that require actual installation or altering of system files and binaries need to be done with elevated privileges.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:55
#, no-wrap
msgid "    We are able to do most of the work as an unprivileged user because we will be using a special kernel build option, which allows us to specify a custom working or output directory. Specifically, we’ll use the `O=~/build/kernel` option for all applicable invocations of make.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:57
#, no-wrap
msgid "    Where `~/build/kernel` is equivalent to `/home/$USER/build/kernel` or  `$HOME/build/kernel`\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:58
#, no-wrap
msgid "Kernel versions and naming conventions"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:61
#, no-wrap
msgid "The web site listing of kernels available will contain folders for v1.0, v2.5, v2.6, v3.0, v3.x, v4.x, v5.x, v6.x and so forth. Before you follow your natural inclination to get the latest version, make sure you understand how the Linux kernel versioning system works.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:63
#, no-wrap
msgid "The current convention is to name and number major new kernel releases as “Linux 5.x” (also called the vanilla or mainline kernels). Thus the first of this series will be Linux version 5.0 (same as 5.0.0), the next will be Linux version 5.1 (same as 5.1.0), followed by Linux version 5.2, and so on.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:65
#, no-wrap
msgid "Any minor changes or updates within each major release version will be reflected by increments to the third digit. These are commonly referred to as stable point releases. Thus, the next stable point release for the 5.0.0 series kernel will be Linux version 5.0.1, followed by version 5.0.2, and so forth. Another way of stating this is to say, for example, that Linux version 5.0.4 is the fourth stable release based on the Linux 5.0.0 series.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:66
#, no-wrap
msgid "Installing prerequisite tools and libraries"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:69
#, no-wrap
msgid "A common source of failure encountered during the kernel build process may be caused by not having all the requisite software available for compiling and building the mainline Linux Kernel.  The missing tools and libraries can be installed using the DNF package manager on a Rocky Linux distro. We’ll take care of this in this section.\n"
msgstr ""

#. type: Bullet: '1. '
#: ../src/docs/guides/custom-linux-kernel.md:71
#, no-wrap
msgid "On a Rocky Linux distro, you can quickly get most of the necessary development tools installed by running this command:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:75
#, no-wrap
msgid ""
"    ```\n"
"    > sudo dnf -y groupinstall 'C Development Tools and Libraries'\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:77
#, no-wrap
msgid "    If you get 'Module or Group 'C Development Tools and Libraries' is not available.' error the below command is equivalent to above:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:81
#, no-wrap
msgid ""
"     ```\n"
"    > sudo dnf -y groupinstall 'Development Tools'\n"
"    ```\n"
msgstr ""

#. type: Bullet: '2. '
#: ../src/docs/guides/custom-linux-kernel.md:83
#, no-wrap
msgid "Some other libraries, header files and applications that you might need can also be obtained by installing the following packages. Type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:88
#, no-wrap
msgid ""
"    ```\n"
"    > sudo dnf -y install \\\n"
"    ncurses-devel openssl-devel elfutils-libelf-devel python3\n"
"    ```\n"
msgstr ""

#. type: Bullet: '3. '
#: ../src/docs/guides/custom-linux-kernel.md:90
#, no-wrap
msgid "Next, we need some other utilities that are only available in some supported 3rd party repositories. One of such repositories is the Powertools repo. Let’s enable that repo on our Rocky system. Type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:94
#, no-wrap
msgid ""
"    ```\n"
"    > sudo dnf config-manager --set-enabled powertools\n"
"    ```\n"
msgstr ""

#. type: Bullet: '4. '
#: ../src/docs/guides/custom-linux-kernel.md:96
#, no-wrap
msgid "Finally, let’s install one of the needed packages from the Powertool repo. Type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:100
#, no-wrap
msgid ""
"    ```\n"
"    > sudo  dnf -y install dwarves\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:102
#, no-wrap
msgid "That’s it for the prerequisite packages needed for actual Kernel building!\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:103
#, no-wrap
msgid "Downloading and unpacking the Linux Kernel"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:106
#, no-wrap
msgid "The version of the kernel that we are going to build in the following section is version 5.16.9, which is available at:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:108
#, no-wrap
msgid "[www.kernel.org/pub/linux/kernel/v5.x/linux-5.16.9.tar.xz](https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.16.9.tar.xz)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:110
#, no-wrap
msgid "Let’s begin the process.\n"
msgstr ""

#. type: Bullet: '1. '
#: ../src/docs/guides/custom-linux-kernel.md:112
#, no-wrap
msgid "First, use the following curl command to download the needed kernel source into your current working directory. Type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:117
#, no-wrap
msgid ""
"    ```\n"
"    curl -L -o linux-5.16.9.tar.xz \\\n"
"    https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.16.9.tar.xz\n"
"    ```\n"
msgstr ""

#. type: Bullet: '2. '
#: ../src/docs/guides/custom-linux-kernel.md:119
#, no-wrap
msgid "The kernel source that you will download from the Internet is a file that has been compressed and tarred. Therefore, to use the source, you need to decompress and untar the source file.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:121
#, no-wrap
msgid "    Make sure you are in the directory that download the Kernel tarball into. Use the tar command to unpack and decompress the file, by running:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:125
#, no-wrap
msgid ""
"    ```\n"
"    tar xvJf linux-5.*.tar.xz\n"
"    ```\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:126
#, no-wrap
msgid "Building the Kernel"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:129
#, no-wrap
msgid "In this section, we’re going to review the process of configuring and building a kernel. This is in contrast to macOS or Windows-based operating systems, which come preconfigured and therefore contain support for many features you may or may not want.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:131
#, no-wrap
msgid "The Linux design philosophy allows the individual to decide on the important parts of the kernel.This individualized design has the important benefit of letting you thin down the feature list so that Linux can run as efficiently as possible.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:133
#, no-wrap
msgid "This is also one of the reasons why it is possible to customize Linux to run in various hardware setups, from low-end systems, to embedded systems, to high-end systems.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:135
#, no-wrap
msgid "Two main steps are required in building a kernel:\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:138
#, no-wrap
msgid "configuring\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:138
#, no-wrap
msgid "compiling\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:140
#, no-wrap
msgid "The first step in building the kernel is configuring its features. Usually, your desired feature list will be based on whatever hardware you need to support. This, of course, means that you’ll need a list of that hardware.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:142
#, no-wrap
msgid "On a system that is already running Linux, you can run commands like – lspci, lshw and so on to help show detailed information about the exact hardware setup on your system. On  RPM-based distros these utilities are provided by the pciutils*.rpm and lshw*.rpm packages.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:144
#, no-wrap
msgid "Having a better understanding of what constitutes your underlying hardware can help you better determine what you need in your custom kernel. You’re ready to start configuring the kernel.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/guides/custom-linux-kernel.md:145
#, no-wrap
msgid "Sanitizing the build environment"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:148
#, no-wrap
msgid "With a rough idea of the types of hardware and features that our new kernel needs to support, we can begin the actual configuration. But first, some background information.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:150
#, no-wrap
msgid "The Linux kernel source tree contains several files named Makefile (a makefile is simply a text file with directives and it also describes the relationships among the files in a program).\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:152
#, no-wrap
msgid "These makefiles help to glue together the thousands of other files that make up the kernel source. What is more important to us here is that the makefiles also contain targets. The targets are the commands, or directives, that are executed by the make program.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:155
#, no-wrap
msgid "!!! warning \"warning: Avoid Needless Kernel Upgrades\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:157
#, no-wrap
msgid "    Bear in mind that if you have a working system that is stable and well behaved, there is little reason to upgrade the kernel unless one of these conditions holds for you:\n"
msgstr ""

#. type: Bullet: '    - '
#: ../src/docs/guides/custom-linux-kernel.md:160
#, no-wrap
msgid "A security or bug fix affects your system and must be applied\n"
msgstr ""

#. type: Bullet: '    - '
#: ../src/docs/guides/custom-linux-kernel.md:160
#, no-wrap
msgid "You need a specific new feature in a stable release\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:162
#, no-wrap
msgid "    In the case of a security fix, decide whether the risk really affects you—for example, if the security issue is found in a device driver that you don’t use, then there may be no reason to upgrade. In the case of a bug fix release, read carefully through the release notes and decide if the bugs really affect you—if you have a stable system, upgrading the kernel with patches you never use may be pointless.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:164
#, no-wrap
msgid "    On production systems, the kernel shouldn’t simply be upgraded just to have “the latest kernel”; you should have a truly compelling reason to upgrade.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:166
#, no-wrap
msgid "The Makefile in the root of the kernel source tree contains specific targets that can be used in prepping the kernel build environment, configuring the kernel, compiling the kernel, installing the kernel, and so on. Some of the targets are discussed in more detail here:\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:174
#, no-wrap
msgid "**make mrproper** This target cleans up the build environment of any stale files and dependencies that might have been left over from a previous kernel build. All previous kernel configurations will be cleaned (deleted) from the build environment.\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:174
#, no-wrap
msgid "**make clean** This target does not do as thorough a job as the mrproper target. It deletes only most generated files. It does not delete the kernel configuration file (.config).\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:174
#, no-wrap
msgid "**make menuconfig** This target invokes a text-based editor interface with menus, option lists, and text-based dialog boxes for configuring the kernel.\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:174
#, no-wrap
msgid "**make xconfig** This is a GUI based kernel configuration tool/target that relies on the Qt graphical development libraries. These libraries are used by KDE/Plasma-based applications.\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:174
#, no-wrap
msgid "**make gconfig** This is also a GUI  based kernel configuration tool/target, but it relies on the GTK+  toolkit. This GTK toolkit is heavily used in the GNOME desktop world.\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:174
#, no-wrap
msgid "**make olddefconfig** This target uses the existing .config file in the current working directory, updates the dependencies, and automatically sets new symbols to their default values.\n"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/guides/custom-linux-kernel.md:174
#, no-wrap
msgid "**make help** This target will show you all the other possible make targets and also serves as a quick online help system.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:175
#, no-wrap
msgid "To configure the kernel in this section, we will use only one of the targets. In particular, we will use the make menuconfig command. The menuconfig kernel config editor is a simple and popular text-based configuration utility that consists of menus, radio button lists, and dialogs.  \n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:178
#, no-wrap
msgid "It has a simple and clean interface that can be easily navigated with your keyboard and is almost intuitive to use.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:181
#, no-wrap
msgid ""
"We need to change (cd) into the kernel source directory, after which we can begin the kernel configuration.\n"
"But before beginning the actual kernel configuration, you should clean (prepare) the kernel build environment by using the make mrproper command:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/guides/custom-linux-kernel.md:182
#, no-wrap
msgid ""
"> cd linux-5.*\n"
"> make  O=~/build/kernel mrproper\n"
msgstr ""

#. type: Title ###
#: ../src/docs/guides/custom-linux-kernel.md:187
#, no-wrap
msgid "Kernel Configuration"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:190
#, no-wrap
msgid "Next, we will step through the process of configuring a Linux 5.* series kernel. To explore some of the innards of this process, we will enable the support of a specific feature that we’ll pretend is a MUST have feature on the system. Once you understand how this works, you can apply the same procedure to add support for any other new kernel feature that you want. Specifically, we’ll enable support for the NTFS file system into our custom kernel.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:192
#, no-wrap
msgid "Most modern Linux distros ship with a kernel configuration file for the running kernel available on the local file system as a compressed or regular file. On our sample Rocky system, this file resides in the /boot directory and is usually named something like config-4.*.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:194
#, no-wrap
msgid "The configuration file contains a list of the options and features that were enabled for the particular kernel it represents. A config file similar to this one is what we aim to create through the process of configuring the kernel. The only difference between the file we’ll create and the ready-made one is that we will add further minor customization to ours.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:199
#, no-wrap
msgid "    Using a known, preexisting config file as a framework for creating our own custom file helps ensure that we don’t waste too much time duplicating the efforts that other people have already put into finding what works and what doesn’t work!\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:201
#, no-wrap
msgid "The following steps cover how to configure the kernel. We will be using a text-based kernel configuration utility, which will allow you to follow along in your terminal regardless of whether you are using a GUI desktop environment or not.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:207
#, no-wrap
msgid ""
"1. To begin, we’ll copy over and rename the preexisting config file from the /boot directory into our kernel build environment:\n"
"    ```\n"
"    > cp /boot/config-`uname -r` ~/build/kernel/.config\n"
"    ```\n"
"    We use `uname -r` here to help us obtain the configuration file for the running kernel. The uname -r command prints the running kernel’s release. Using it helps ensure that we are getting the exact version we want, just in case other versions are present.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:209
#, no-wrap
msgid "    !!! NOTE\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:211
#, no-wrap
msgid "        The Linux kernel configuration editor specifically starts up looking for, and ends up generating, a file named .config (pronounced “dot config”) at the root of the kernel source tree. This file is hidden.\n"
msgstr ""

#. type: Bullet: '2. '
#: ../src/docs/guides/custom-linux-kernel.md:213
#, no-wrap
msgid "Launch the graphical kernel configuration utility:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:217
#, no-wrap
msgid ""
"    ```       \n"
"    > make O=~/build/kernel menuconfig\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:219
#, no-wrap
msgid "    A screen similar to this will appear:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:221
#, no-wrap
msgid "![Main Kernel Configuration screen](images/Il01-kernel.png)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:225
#, no-wrap
msgid ""
"    The kernel configuration screen that appears is divided into roughly three areas.\n"
"    The top part shows various helpful information, keyboard shortcuts, and legends that can help you navigate the application.\n"
"    The main body of the screen shows an expandable tree-structured list of the overall configurable kernel options. You can further drill down into items with arrows in the parent to view and/or configure sub-menu (or child) items. And finally, the bottom of the screen displays the actual actions/options that the user can choose.\n"
msgstr ""

#. type: Bullet: '3. '
#: ../src/docs/guides/custom-linux-kernel.md:227
#, no-wrap
msgid "Next, for demonstration purposes we’ll add support for NTFS into our custom kernel.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:229
#, no-wrap
msgid "    While at the main configuration screen, use your arrow keys to navigate to and highlight the File systems item. With File systems selected, press enter to view the sub-menu or child items for File systems.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:231
#, no-wrap
msgid "    In the File Systems section, use your arrow keys to navigate to DOS/FAT/NT Filesystems. Press enter to see the child items for DOS/FAT/NT Filesystems.\n"
msgstr ""

#. type: Bullet: '4. '
#: ../src/docs/guides/custom-linux-kernel.md:233
#, no-wrap
msgid "In the DOS/FAT/NT Filesystems section, navigate to NTFS file system support.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:235
#, no-wrap
msgid "    Type M (uppercase) to enable support for the NTFS file system via modules.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:237
#, no-wrap
msgid "    Use the arrow keys to navigate down to NTFS debugging support (NEW) and then press y to include it.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:240
#, no-wrap
msgid ""
"    Use the arrow keys to navigate down to NTFS write support and then press y to include it.\n"
"    When you are done, the letter M or an asterisk symbol (*) should appear beside each option, like the ones shown here:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:242
#, no-wrap
msgid "    ![Kernel Configuration File Systems screen](images/Il02-kernel.png)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:244
#: ../src/docs/guides/custom-linux-kernel.md:264
#: ../src/docs/guides/custom-linux-kernel.md:363
#, no-wrap
msgid "    !!! TIP\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:246
#, no-wrap
msgid "        For each of the configurable options, in the kernel configuration utility, empty angle parentheses, <>, indicates that the feature in question is disabled. The letter M in angle parentheses, <M>, indicates that the feature is to be compiled as a module.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:248
#, no-wrap
msgid "    And the asterisk symbol in angle parentheses, <*>, indicates that support for the feature will be directly built into the kernel. You can usually toggle through all the possible options using the spacebar on your keyboard.\n"
msgstr ""

#. type: Bullet: '5. '
#: ../src/docs/guides/custom-linux-kernel.md:250
#, no-wrap
msgid "Navigate back to the parent File Systems screen by pressing the esc key twice on your keyboard in the DOS/FAT/NT Filesystems screen.Return to the main kernel configuration screen by pressing esc twice again on your keyboard.\n"
msgstr ""

#. type: Bullet: '6. '
#: ../src/docs/guides/custom-linux-kernel.md:252
#, no-wrap
msgid "Finally, save your changes to the .config file in the root of your kernel source tree and exit the kernel configuration application after saving the file by pressing esc twice again on your keyboard.\n"
msgstr ""

#. type: Bullet: '7. '
#: ../src/docs/guides/custom-linux-kernel.md:254
#, no-wrap
msgid "A dialog box will appear prompting you to save your new configuration. Make sure that Yes is selected and then press enter.\n"
msgstr ""

#. type: Bullet: '8. '
#: ../src/docs/guides/custom-linux-kernel.md:256
#, no-wrap
msgid "After the kernel configuration utility exits, you will be thrown back to your shell—inside the kernel source tree.You are almost ready to build your kernel!\n"
msgstr ""

#. type: Bullet: '9. '
#: ../src/docs/guides/custom-linux-kernel.md:258
#, no-wrap
msgid "We need to complete a few more customizations on our Rocky distro. Type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:262
#, no-wrap
msgid ""
"    ```\n"
"    sed -ri '/CONFIG_SYSTEM_TRUSTED_KEYS/s/=.+/=\"\"/g' ~/build/kernel/.config\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:273
#, no-wrap
msgid ""
"        To view the results of some of the changes you made using the menuconfig tool, use the grep utility to view the .config file that you saved directly. For example to view the effect of the NTFS file system support that we enabled previously, type the following:\n"
"        ```\n"
"        > grep NTFS ~/build/kernel/.config\n"
"        CONFIG_NTFS_FS=m\n"
"        CONFIG_NTFS_DEBUG=y\n"
"        CONFIG_NTFS_RW=y\n"
"        ```\n"
"    !!! NOTE \"A Quick Note on Kernel Modules\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:275
#, no-wrap
msgid "        Loadable module support is a Linux kernel feature that allows the dynamic loading (or removal) of kernel modules.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:277
#, no-wrap
msgid "        Kernel modules are pieces of compiled code that can be dynamically inserted into the running kernel, rather than being permanently built into the kernel. Features not often used can thus be enabled, but they won’t occupy any room in memory when they aren’t being used.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:279
#, no-wrap
msgid "        Thankfully, the Linux kernel can automatically determine what to load and when. Naturally, not every feature is eligible to be compiled as a module. The kernel must know a few things before it can load and unload modules, such as how to access the hard disk and parse through the file system where the loadable modules are stored. Some kernel modules are also commonly referred to as drivers.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/guides/custom-linux-kernel.md:280
#, no-wrap
msgid "Compiling the Kernel"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:283
#, no-wrap
msgid "In the preceding section, we walked through the process of creating a configuration file for the custom kernel that we want to build. In this section, we will perform the actual build of the kernel. But before doing this, we will add one more simple customization to the entire process.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:285
#, no-wrap
msgid "The final customization will be to add an extra piece of information used in the final name of our kernel. This will help us be able to differentiate this kernel from any other kernel with the same version number. We will add the tag “custom” to the kernel version information. This can be done by editing the main Makefile and appending the tag that we want to the EXTRAVERSION variable.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:287
#, no-wrap
msgid "The compilation stage of the kernel-building process is by far the easiest, but it also takes the most time. All that is needed at this point is simply to execute the make command, which will then automatically generate and take care of any dependency issues, compile the kernel itself, and compile any features (or drivers) that were enabled as loadable modules.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:289
#, no-wrap
msgid "Because of the amount of code that needs to be compiled, be prepared to wait a few minutes, at the very least, depending on the processing power of your system. Let’s dig into the specific steps required to compile your new kernel.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:292
#, no-wrap
msgid ""
"1. First we’ll add an extra piece to the identification string for the kernel we are about to build. While still in the root of the kernel source tree, we’ll use the sed utility edit the Makefile in place. The variable we want to change is close to the top of the file.\n"
"We want to change the line in the file that looks like this:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:296
#, no-wrap
msgid ""
"    ```\n"
"    EXTRAVERSION =\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:298
#, no-wrap
msgid "    To this:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:302
#, no-wrap
msgid ""
"    ```\n"
"    EXTRAVERSION = -custom\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:304
#, no-wrap
msgid "    Use the following `sed` command to make the change. Type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:308
#, no-wrap
msgid ""
"    ```\n"
"    sed  -i 's/^EXTRAVERSION.*/EXTRAVERSION = -custom/'  Makefile\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:310
#, no-wrap
msgid "    Of course you can also use any text editor that you are comfortable with to make the change. Just remember to save your changes to the file!\n"
msgstr ""

#. type: Bullet: '2. '
#: ../src/docs/guides/custom-linux-kernel.md:312
#, no-wrap
msgid "Pass the kernelversion target to the make command to view the full version of the kernel that you just customized:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:316
#, no-wrap
msgid ""
"    ```\n"
"    > make O=~/build/kernel kernelversion\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:318
#, no-wrap
msgid "    !!! Tip\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:320
#, no-wrap
msgid "        You can take advantage of all that extra processing power (CPUs, cores and so on) on most modern systems and greatly speed up CPU-intensive operations like compiling the kernel. To do this, you can pass a parameter to the make command that specifies the number of jobs to run simultaneously. The specified number of jobs are then distributed and executed simultaneously on each CPU core. The syntax for the command is:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:325
#, no-wrap
msgid ""
"    ```\n"
"    > make -j N\n"
"    ```\n"
"    where N is the number of jobs to run simultaneously. For example, if you have a octa (8) core–capable CPU, you can type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:329
#, no-wrap
msgid ""
"    ```\n"
"    > make -j 8\n"
"    ```\n"
msgstr ""

#. type: Bullet: '3. '
#: ../src/docs/guides/custom-linux-kernel.md:331
#, no-wrap
msgid "The only command that is needed here to compile the kernel is the make command:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:347
#, no-wrap
msgid ""
"    ```\n"
"    > make  O=~/build/kernel**\n"
"    make[1]: Entering directory '/home/super/build/kernel'\n"
"    SYNC    include/config/auto.conf.cmd\n"
"    GEN     Makefile\n"
"    HOSTCC  scripts/kconfig/conf.o\n"
"    HOSTLD  scripts/kconfig/conf\n"
"    GEN     Makefile\n"
"    ...<OUTPUT TRUNCATED>…\n"
"    LD [M]  sound/usb/usx2y/snd-usb-usx2y.ko\n"
"    LD [M]  sound/x86/snd-hdmi-lpe-audio.ko\n"
"    LD [M]  sound/xen/snd_xen_front.ko\n"
"    LD [M]  virt/lib/irqbypass.ko\n"
"    make[1]: Leaving directory '/home/super/build/kernel'\n"
"    ```\n"
msgstr ""

#. type: Bullet: '4. '
#: ../src/docs/guides/custom-linux-kernel.md:349
#, no-wrap
msgid "The end product of this command (that is, the kernel) is sitting pretty and waiting in the path:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:353
#, no-wrap
msgid ""
"    ```\n"
"    ~/build/kernel/arch/x86/boot/bzImage\n"
"    ```\n"
msgstr ""

#. type: Bullet: '5. '
#: ../src/docs/guides/custom-linux-kernel.md:355
#, no-wrap
msgid "Because we compiled portions of the kernel as modules (for example, the NTFS module), we need to install the modules. Type the following:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:359
#, no-wrap
msgid ""
"    ```\n"
"    > sudo make O=~/build/kernel modules_install\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:361
#, no-wrap
msgid "    On our Rocky system, this command will install all the compiled kernel modules into the /lib/modules/<new_kernel-version> directory. In this example, this path will translate to  /lib/modules/5.16.9-custom/. This is the path from which the kernel will load all loadable modules, as needed.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:365
#, no-wrap
msgid "        The footprint (size) of the kernel modules installed via “make modules_install” can end up getting pretty large because the modules include debugging symbols. As a result you could easily end up with a `/lib/modules/5.16.9-custom/` directory that is close to  5GB in size!\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:366
#, no-wrap
msgid "        For this guide we avoid this large size by including the INSTALL_MOD_STRIP=1 option in our make modules_install invocation. You can reduce the total size by orders of magnitude (For example - less than 200 MB!!) by stripping away these debugging symbols.  \n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:369
#, no-wrap
msgid "        This can be done by including the `INSTALL_MOD_STRIP=1` option to the `make modules_install` command.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:370
#, no-wrap
msgid "Installing the Kernel"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:373
#, no-wrap
msgid "Assuming you have a PC and are working out of the `~/build/kernel/` directory, the compiled kernel that was created in the previous exercise will be located in this path - `<kernel-build-dir>/arch/x86/boot/bzImage` or, to be precise, in our example  `~/build/kernel/arch/x86/boot/bzImage`.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:375
#, no-wrap
msgid "The corresponding map file for this will be located at ~/build/kernel/System.map. You’ll need both files for the install phase.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:377
#, no-wrap
msgid "The System.map file is useful when the kernel is misbehaving and generating “Oops” messages. An “Oops” is generated on some kernel errors because of kernel bugs or faulty hardware.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:379
#, no-wrap
msgid "This error is akin to the Blue Screen of Death (BSOD) in Microsoft Windows. These messages include a lot of detail about the current state of the system, including several hexadecimal numbers.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:381
#, no-wrap
msgid "System.map gives Linux a chance to turn those hexadecimal numbers into readable names, making debugging easier. Although this is mostly for the benefit of developers, it can be handy when you’re reporting a problem.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:383
#, no-wrap
msgid "Let’s go through the steps required to install the new kernel image.\n"
msgstr ""

#. type: Bullet: '1. '
#: ../src/docs/guides/custom-linux-kernel.md:385
#, no-wrap
msgid "While in the root of your kernel build directory, copy and rename the bzImage file into the /boot directory:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:390
#, no-wrap
msgid ""
"    ```\n"
"    > **sudo cp ~/build/kernel/arch/x86/boot/bzImage  \\\n"
"    /boot/vmlinuz-<kernel-version>**\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:392
#, no-wrap
msgid "    Here, kernel-version is the version number of the kernel. For the sample kernel we are using in this guide, the filename would be vmlinuz-5.16.9-custom. So here’s the exact command for this example:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:397
#, no-wrap
msgid ""
"    ```\n"
"    > sudo cp ~/build/kernel/arch/x86/boot/bzImage  \\\n"
"    /boot/vmlinuz-5.16.9-custom\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:399
#, no-wrap
msgid "    !!! Note\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:401
#, no-wrap
msgid "        The decision to name the kernel image vmlinuz-5.16.9-custom is somewhat arbitrary. It’s convenient, because kernel images are commonly referred to as vmlinuz, and the suffix of the version number is useful when you have multiple kernels available or kernels that provide specific functionality (For example  vmlinuz-6.50.0-ws).\n"
msgstr ""

#. type: Bullet: '2. '
#: ../src/docs/guides/custom-linux-kernel.md:403
#, no-wrap
msgid "Now that the kernel image is in place, copy over and rename the corresponding System.map file into the /boot directory using the same naming convention:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:408
#, no-wrap
msgid ""
"    ```\n"
"    > sudo cp -v  ~/build/kernel/System.map \\\n"
"    /boot/System.map-5.16.9-custom\n"
"    ```\n"
msgstr ""

#. type: Bullet: '3. '
#: ../src/docs/guides/custom-linux-kernel.md:410
#, no-wrap
msgid "With the kernel in place, the System.map file in place, and the modules in place, we are now ready for the final step. The syntax for the command needed is:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:414
#, no-wrap
msgid ""
"    ```\n"
"    > kernel-install add   <kernel-version>  <kernel-image>\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:416
#, no-wrap
msgid "    Here, <kernel-version> is the version number (and name) of the kernel. And <kernel-image> is the path to the newly compiled kernel image.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:418
#, no-wrap
msgid "    For our example, type:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:423
#, no-wrap
msgid ""
"    ```\n"
"    > sudo kernel-install \\\n"
"    add  5.16.9-custom /boot/vmlinuz-5.16.9-custom\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:425
#, no-wrap
msgid "The kernel-install command used here is a nifty little shell script. It might not be available in every Linux distribution, but it is available in newer Fedora, RHEL, CentOS distros. This tool automates a lot of the final manual things we’d ordinarily have to do to set up the system to boot the new kernel we just built.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:427
#, no-wrap
msgid "In particular, the tool does the following:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:432
#, no-wrap
msgid ""
"- It creates the appropriate initial RAM file system image (the initramfs image—that is, the /boot/initramfs-<kernel-version>.img file).\n"
"To do this manually on systems where kernel-install is not available, use the mkinitramfs command.\n"
"- It runs the depmod command (which creates a list of module dependencies).\n"
"- It updates the boot loader configuration.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:434
#, no-wrap
msgid "For systems running the newer versions of GRUB2, the file will be `/boot/grub2/grub.cfg`. For EFI based systems /boot/efi/<distro>/fedora/grub.cfg is also updated.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:436
#, no-wrap
msgid "And for systems running the legacy versions of GRUB, this will be the /boot/grub/grub.conf or /boot/grub/menu.lst file. And for very new distros that have implemented the new Boot Loader Specification (BLS) a new boot loader entry will be added to the /boot/loader/entries/  directory or any directory pointed to by the variable named \"blsdir\".\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:438
#, no-wrap
msgid "On our demo EFI based Rocky server running GRUB 2 using BLS, a new boot entry is created in the boot loader file located here: `/boot/loader/entries/6fa25ca775f64accb0d3e53f0e4e6e92-5.16.9-custom.conf`\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/guides/custom-linux-kernel.md:439
#, no-wrap
msgid ""
"> sudo cat  /boot/loader/entries/6fa25ca775f64accb0d3e53f0e4e6e92-5.16.9-custom.conf\n"
"title Rocky Linux (5.16.9-custom) 8.5 (Green Obsidian)\n"
"version 5.16.9-custom\n"
"linux /vmlinuz-5.16.9-custom\n"
"initrd /initramfs-5.16.9-custom.img $tuned_initrd\n"
"options $kernelopts $tuned_params\n"
"id rocky-20220212013135-5.16.9-custom\n"
"grub_users $grub_users\n"
"grub_arg --unrestricted\n"
"grub_class kernel\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:455
#, no-wrap
msgid "    Most distros, have several grub2-* utilities readily available that can be used for performing various GRUB2 and boot loader house keeping tasks. For example you can use the grub2-set-default command to change or set the default kernel to be booted at system startup.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/guides/custom-linux-kernel.md:456
#, no-wrap
msgid "Booting the custom Kernel"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:458
#, no-wrap
msgid "The next stage is to test the new kernel to make sure that the system can indeed boot with it.\n"
msgstr ""

#. type: Bullet: '1. '
#: ../src/docs/guides/custom-linux-kernel.md:460
#, no-wrap
msgid "Assuming you did everything the exact way that the doctor prescribed and that everything worked out exactly as the doctor said it would, you can safely reboot the system and select the new kernel from the boot loader menu during system bootup:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:464
#, no-wrap
msgid ""
"    ```\n"
"    >  sudo reboot\n"
"    ```\n"
msgstr ""

#. type: Bullet: '2. '
#: ../src/docs/guides/custom-linux-kernel.md:466
#, no-wrap
msgid "After the system boots up, you can use the uname command to find out the name of the current kernel:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:471
#, no-wrap
msgid ""
"    ```\n"
"    >  uname -r\n"
"    5.16.9-custom\n"
"    ```\n"
msgstr ""

#. type: Bullet: '3. '
#: ../src/docs/guides/custom-linux-kernel.md:473
#, no-wrap
msgid "You will recall that one of the features that we added to our new kernel is the ability to support the NTFS file system. Make sure that the new kernel does indeed have support for NTFS by displaying information about the NTFS module:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:482
#, no-wrap
msgid ""
"    ```\n"
"    [rockstar ~]$ modinfo ntfs\n"
"    filename:       /lib/modules/5.16.9-custom/kernel/fs/ntfs/ntfs.ko\n"
"    license:        GPL\n"
"    version:        2.1.32\n"
"    description:    NTFS 1.2/3.x driver - Copyright …..\n"
"    ...<OUTPUT TRUNCATED>...\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/guides/custom-linux-kernel.md:483
#, no-wrap
msgid "And that’s it !\n"
msgstr ""

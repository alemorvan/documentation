# French translations for po package
# Traductions fran網ises du paquet po
# Copyright (C) 2023 Free Software Foundation, Inc.
# This file is distributed under the same license as the po package.
# Automatically generated, 2023.
#
msgid ""
msgstr ""
"Project-Id-Version: po 4a\n"
"POT-Creation-Date: 2023-06-11 15:28+0000\n"
"PO-Revision-Date: 2023-06-11 15:28+0000\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"Language: fr\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=(n > 1);\n"

#. type: YAML Front Matter: title
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:1
#, no-wrap
msgid "Ansible Galaxy"
msgstr ""

#. type: Title #
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:5
#, no-wrap
msgid "Ansible Galaxy: Collections and Roles"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:8
msgid ""
"In this chapter you will learn how to use, install, and manage Ansible roles "
"and collections."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:12
#, no-wrap
msgid "**Objectives**: In this chapter you will learn how to:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:15
#, no-wrap
msgid ""
":heavy_check_mark: install and manage collections.       \n"
":heavy_check_mark: install and manage roles.   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:17
msgid ""
":checkered_flag: **ansible**, **ansible-galaxy**, **roles**, **collections**"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:20
#, no-wrap
msgid ""
"**Knowledge**: :star: :star:      \n"
"**Complexity**: :star: :star: :star:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:22
#, no-wrap
msgid "**Reading time**: 40 minutes\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:26
msgid ""
"[Ansible Galaxy](https://galaxy.ansible.com) provides Ansible Roles and "
"Collections from the Ansible Community."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:28
msgid ""
"The elements provided can be referenced in the playbooks and used out of the "
"box"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:29
#, no-wrap
msgid "`ansible-galaxy` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:32
msgid ""
"The `ansible-galaxy` command manages roles and collections using [galaxy."
"ansible.com](http://galaxy.ansible.com)."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:34
msgid "To manage roles:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:35
#, no-wrap
msgid "ansible-galaxy role [import|init|install|login|remove|...]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:47
#, no-wrap
msgid ""
"| Sub-commands | Observations                                              |\n"
"|--------------|-----------------------------------------------------------|\n"
"| `install`    | installs a role.                                          |\n"
"| `remove`     | remove one or more roles.                                 |\n"
"| `list`       | display the name and the version of installed roles.      |\n"
"| `info`       | display information about a role.                         |\n"
"| `init`       | generate a skeleton of a new role.                        |\n"
"| `import`     | import a role from the galaxy web site. Requires a login. |\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:49
msgid "To manage collections:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:50
#, no-wrap
msgid "ansible-galaxy collection [import|init|install|login|remove|...]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:59
#, no-wrap
msgid ""
"| Sub-commands | Observations                                               |\n"
"|--------------|------------------------------------------------------------|\n"
"| `init`       | generate a skeleton of a new collection.                   |\n"
"| `install`    | installs a collection.                                     |\n"
"| `list`       | display the name and the version of installed collections. |\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:60
#, no-wrap
msgid "Ansible Roles"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:63
msgid "An Ansible role is a unit that promotes the reusability of playbooks."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:65
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:432
msgid "!!! Note"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:67
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse_roles.html)\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:68
#, no-wrap
msgid "Installing useful Roles"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:71
msgid ""
"In order to highlight the interest of using roles, I suggest you to use the "
"`alemorvan/patchmanagement` role, which will allow you to perform a lot of "
"tasks (pre-update or post-update for example) during your update process, in "
"only a few lines of code."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:73
msgid ""
"You can check the code in the github repo of the role [here](https://github."
"com/alemorvan/patchmanagement)."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:75
msgid "Install the role. This needs only one command:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:76
#, no-wrap
msgid "ansible-galaxy role install alemorvan.patchmanagement\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:81
msgid "Create a playbook to include the role:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:82
#, no-wrap
msgid ""
"- name: Start a Patch Management\n"
"  hosts: ansible_clients\n"
"  vars:\n"
"    pm_before_update_tasks_file: custom_tasks/pm_before_update_tasks_file.yml\n"
"    pm_after_update_tasks_file: custom_tasks/pm_after_update_tasks_file.yml\n"
"\n"
"  tasks:\n"
"    - name: \"Include patchmanagement\"\n"
"      include_role:\n"
"        name: \"alemorvan.patchmanagement\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:96
msgid ""
"With this role, you can add your own tasks for all your inventory or for "
"only your targeted node."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:98
msgid ""
"Let's create tasks that will be run before and after the update process:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:100
msgid "Create the `custom_tasks` folder:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:101
#, no-wrap
msgid "mkdir custom_tasks\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:106
msgid ""
"Create the `custom_tasks/pm_before_update_tasks_file.yml` (feel free to "
"change the name and the content of this file)"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:107
#, no-wrap
msgid ""
"---\n"
"- name: sample task before the update process\n"
"  debug:\n"
"    msg: \"This is a sample tasks, feel free to add your own test task\"\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:115
msgid ""
"Create the `custom_tasks/pm_after_update_tasks_file.yml` (feel free to "
"change the name and the content of this file)"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:116
#, no-wrap
msgid ""
"---\n"
"- name: sample task after the update process\n"
"  debug:\n"
"    msg: \"This is a sample tasks, feel free to add your own test task\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:124
msgid "And launch your first Patch Management:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:125
#, no-wrap
msgid ""
"ansible-playbook patchmanagement.yml\n"
"\n"
"PLAY [Start a Patch Management] *************************************************************************\n"
"\n"
"TASK [Gathering Facts] **********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Include patchmanagement] **************************************************************************\n"
"\n"
"TASK [alemorvan.patchmanagement : MAIN | Linux Patch Management Job] ************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"Start 192 patch management\"\n"
"}\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : sample task before the update process] ********************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"This is a sample tasks, feel free to add your own test task\"\n"
"}\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : MAIN | We can now patch] **********************************************\n"
"included: /home/ansible/.ansible/roles/alemorvan.patchmanagement/tasks/patch.yml for 192.168.1.11\n"
"\n"
"TASK [alemorvan.patchmanagement : PATCH | Tasks depends on distribution] ********************************\n"
"ok: [192.168.1.11] => {\n"
"    \"ansible_distribution\": \"Rocky\"\n"
"}\n"
"\n"
"TASK [alemorvan.patchmanagement : PATCH | Include tasks for CentOS & RedHat tasks] **********************\n"
"included: /home/ansible/.ansible/roles/alemorvan.patchmanagement/tasks/linux_tasks/redhat_centos.yml for 192.168.1.11\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | yum clean all] ******************************************\n"
"changed: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | Ensure yum-utils is installed] **************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | Remove old kernels] *************************************\n"
"skipping: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : RHEL CENTOS | Update rpm package with yum] ****************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : PATCH | Inlude tasks for Debian & Ubuntu tasks] ***********************\n"
"skipping: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : MAIN | We can now reboot] *********************************************\n"
"included: /home/ansible/.ansible/roles/alemorvan.patchmanagement/tasks/reboot.yml for 192.168.1.11\n"
"\n"
"TASK [alemorvan.patchmanagement : REBOOT | Reboot triggered] ********************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : REBOOT | Ensure we are not in rescue mode] ****************************\n"
"ok: [192.168.1.11]\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : FACTS | Insert fact file] *********************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [alemorvan.patchmanagement : FACTS | Save date of last PM] *****************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"...\n"
"\n"
"TASK [alemorvan.patchmanagement : sample task after the update process] *********************************\n"
"ok: [192.168.1.11] => {\n"
"    \"msg\": \"This is a sample tasks, feel free to add your own test task\"\n"
"}\n"
"\n"
"PLAY RECAP **********************************************************************************************\n"
"192.168.1.11               : ok=31   changed=1    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0  \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:204
msgid "Pretty easy for such a complex process, isn't it?"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:206
msgid ""
"This is just one example of what can be done using roles made available by "
"the community. Have a look at [galaxy.ansible.com](https://galaxy.ansible."
"com/) to discover the roles that could be useful for you!"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:208
msgid ""
"You can also create your own roles for your own needs and publish them on "
"the Internet if you feel like it. This is what we will briefly cover in the "
"next chapter."
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:209
#, no-wrap
msgid "Introduction to Role development"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:212
msgid ""
"A role skeleton, serving as a starting point for custom role development, "
"can be generated by the `ansible-galaxy` command:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:213
#, no-wrap
msgid ""
"$ ansible-galaxy role init rocky8\n"
"- Role rocky8 was created successfully\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:219
msgid ""
"The command will generate the following tree structure to contain the "
"`rocky8` role:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:220
#, no-wrap
msgid ""
"tree rocky8/\n"
"rocky8/\n"
"칙춦춮칙춦칙춦 defaults\n"
"칙춦축츽먞 칙춦춦칙춦칙춦 main.yml\n"
"칙춦춮칙춦칙춦 files\n"
"칙춦춮칙춦칙춦 handlers\n"
"칙춦축츽먞 칙춦춦칙춦칙춦 main.yml\n"
"칙춦춮칙춦칙춦 meta\n"
"칙춦축츽먞 칙춦춦칙춦칙춦 main.yml\n"
"칙춦춮칙춦칙춦 README.md\n"
"칙춦춮칙춦칙춦 tasks\n"
"칙춦축츽먞 칙춦춦칙춦칙춦 main.yml\n"
"칙춦춮칙춦칙춦 templates\n"
"칙춦춮칙춦칙춦 tests\n"
"칙춦축츽먞 칙춦춮칙춦칙춦 inventory\n"
"칙춦축츽먞 칙춦춦칙춦칙춦 test.yml\n"
"칙춦춦칙춦칙춦 vars\n"
"    칙춦춦칙춦칙춦 main.yml\n"
"\n"
"8 directories, 8 files\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:244
msgid ""
"Roles allow you to do away with the need to include files. There is no need "
"to specify file paths or `include` directives in playbooks. You just have to "
"specify a task, and Ansible takes care of the inclusions."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:246
msgid "The structure of a role is fairly obvious to understand."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:248
msgid ""
"Variables are simply stored either in `vars/main.yml` if the variables are "
"not to be overridden, or in `default/main.yml` if you want to leave the "
"possibility of overriding the variable content from outside your role."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:250
msgid ""
"The handlers, files, and templates needed for your code are stored in "
"`handlers/main.yml`, `files` and `templates` respectively."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:252
msgid ""
"All that remains is to define the code for your role's tasks in `tasks/main."
"yml`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:254
msgid ""
"Once all this is working well, you can use this role in your playbooks. You "
"will be able to use your role without worrying about the technical aspect of "
"its tasks, while customizing its operation with variables."
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:255
#, no-wrap
msgid "Practical work: create a first simple role"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:258
msgid ""
"Let's implement this with a \"go anywhere\" role that will create a default "
"user and install software packages. This role can be systematically applied "
"to all your servers."
msgstr ""

#. type: Title ####
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:259
#, no-wrap
msgid "Variables"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:262
msgid ""
"We will create a `rockstar` user on all of our servers. As we don't want "
"this user to be overridden, let's define it in the `vars/main.yml`:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:263
#, no-wrap
msgid ""
"---\n"
"rocky8_default_group:\n"
"  name: rockstar\n"
"  gid: 1100\n"
"rocky8_default_user:\n"
"  name: rockstar\n"
"  uid: 1100\n"
"  group: rockstar\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:275
msgid ""
"We can now use those variables inside our `tasks/main.yml` without any "
"inclusion."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:276
#, no-wrap
msgid ""
"---\n"
"- name: Create default group\n"
"  group:\n"
"    name: \"{{ rocky8_default_group.name }}\"\n"
"    gid: \"{{ rocky8_default_group.gid }}\"\n"
"\n"
"- name: Create default user\n"
"  user:\n"
"    name: \"{{ rocky8_default_user.name }}\"\n"
"    uid: \"{{ rocky8_default_user.uid }}\"\n"
"    group: \"{{ rocky8_default_user.group }}\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:291
msgid ""
"To test your new role, let's create a `test-role.yml` playbook in the same "
"directory as your role:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:292
#, no-wrap
msgid ""
"---\n"
"- name: Test my role\n"
"  hosts: localhost\n"
"\n"
"  roles:\n"
"\n"
"    - role: rocky8\n"
"      become: true\n"
"      become_user: root\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:305
msgid "and launch it:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:306
#, no-wrap
msgid ""
"ansible-playbook test-role.yml\n"
"\n"
"PLAY [Test my role] ************************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default group] *******************************************************************\n"
"changed: [localhost]\n"
"\n"
"TASK [rocky8 : Create default user] ********************************************************************\n"
"changed: [localhost]\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:325
msgid ""
"Congratulations! You are now able to create great things with a playbook of "
"only a few lines."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:327
msgid "Let's see the use of default variables."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:329
msgid ""
"Create a list of packages to install by default on your servers and an empty "
"list of packages to uninstall. Edit the `defaults/main.yml` files and add "
"those two lists:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:330
#, no-wrap
msgid ""
"rocky8_default_packages:\n"
"  - tree\n"
"  - vim\n"
"rocky8_remove_packages: []\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:338
msgid "and use them in your `tasks/main.yml`:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:339
#, no-wrap
msgid ""
"- name: Install default packages (can be overridden)\n"
"  package:\n"
"    name: \"{{ rocky8_default_packages }}\"\n"
"    state: present\n"
"\n"
"- name: \"Uninstall default packages (can be overridden) {{ rocky8_remove_packages }}\"\n"
"  package:\n"
"    name: \"{{ rocky8_remove_packages }}\"\n"
"    state: absent\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:352
msgid "Test your role with the help of the playbook previously created:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:353
#, no-wrap
msgid ""
"ansible-playbook test-role.yml\n"
"\n"
"PLAY [Test my role] ************************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default group] *******************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default user] ********************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Install default packages (can be overridden)] ********************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Uninstall default packages (can be overridden) []] ***************************************\n"
"ok: [localhost]\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"localhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:378
msgid ""
"You can now override the `rocky8_remove_packages` in your playbook and "
"uninstall for example `cockpit`:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:379
#, no-wrap
msgid ""
"---\n"
"- name: Test my role\n"
"  hosts: localhost\n"
"  vars:\n"
"    rocky8_remove_packages:\n"
"      - cockpit\n"
"\n"
"  roles:\n"
"\n"
"    - role: rocky8\n"
"      become: true\n"
"      become_user: root\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:394
#, no-wrap
msgid ""
"ansible-playbook test-role.yml\n"
"\n"
"PLAY [Test my role] ************************************************************************************\n"
"\n"
"TASK [Gathering Facts] *********************************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default group] *******************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Create default user] ********************************************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Install default packages (can be overridden)] ********************************************\n"
"ok: [localhost]\n"
"\n"
"TASK [rocky8 : Uninstall default packages (can be overridden) ['cockpit']] ******************************\n"
"changed: [localhost]\n"
"\n"
"PLAY RECAP *********************************************************************************************\n"
"localhost                  : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:419
msgid ""
"Obviously, there is no limit to how much you can improve your role. Imagine "
"that for one of your servers, you need a package that is in the list of "
"those to be uninstalled. You could then, for example, create a new list that "
"can be overridden and then remove from the list of packages to be "
"uninstalled those in the list of specific packages to be installed by using "
"the jinja `difference()` filter."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:420
#, no-wrap
msgid ""
"- name: \"Uninstall default packages (can be overridden) {{ rocky8_remove_packages }}\"\n"
"  package:\n"
"    name: \"{{ rocky8_remove_packages | difference(rocky8_specifics_packages) }}\"\n"
"    state: absent\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:427
#, no-wrap
msgid "Ansible Collections"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:430
msgid ""
"Collections are a distribution format for Ansible content that can include "
"playbooks, roles, modules, and plugins."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:434
#, no-wrap
msgid "    More information can be [found here](https://docs.ansible.com/ansible/latest/user_guide/collections_using.html)\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:436
msgid "To install or upgrade a collection:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:437
#, no-wrap
msgid "ansible-galaxy collection install namespace.collection [--upgrade]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:442
msgid ""
"You can then use the newly installed collection using its namespace and name "
"before the module's name or role's name:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:443
#, no-wrap
msgid ""
"- import_role:\n"
"    name: namespace.collection.rolename\n"
"\n"
"- namespace.collection.modulename:\n"
"    option1: value\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:452
msgid ""
"You can find a collection index [here](https://docs.ansible.com/ansible/"
"latest/collections/index.html)."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:454
msgid "Let's install the `community.general` collection:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:455
#, no-wrap
msgid ""
"ansible-galaxy collection install community.general\n"
"Starting galaxy collection install process\n"
"Process install dependency map\n"
"Starting collection install process\n"
"Downloading https://galaxy.ansible.com/download/community-general-3.3.2.tar.gz to /home/ansible/.ansible/tmp/ansible-local-51384hsuhf3t5/tmpr_c9qrt1/community-general-3.3.2-f4q9u4dg\n"
"Installing 'community.general:3.3.2' to '/home/ansible/.ansible/collections/ansible_collections/community/general'\n"
"community.general:3.3.2 was installed successfully\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:466
msgid "We can now use the newly available module `yum_versionlock`:"
msgstr ""

#. type: Bullet: '- '
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:467
msgid ""
"name: Start a Patch Management hosts: ansible_clients become: true "
"become_user: root tasks:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:467
#, no-wrap
msgid ""
"\n"
"    - name: Ensure yum-versionlock is installed\n"
"      package:\n"
"        name: python3-dnf-plugin-versionlock\n"
"        state: present\n"
"\n"
"    - name: Prevent kernel from being updated\n"
"      community.general.yum_versionlock:\n"
"        state: present\n"
"        name: kernel\n"
"      register: locks\n"
"\n"
"    - name: Display locks\n"
"      debug:\n"
"        var: locks.meta.packages                            \n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:490
#, no-wrap
msgid ""
"ansible-playbook versionlock.yml\n"
"\n"
"PLAY [Start a Patch Management] *************************************************************************\n"
"\n"
"TASK [Gathering Facts] **********************************************************************************\n"
"ok: [192.168.1.11]\n"
"\n"
"TASK [Ensure yum-versionlock is installed] **************************************************************\n"
"changed: [192.168.1.11]\n"
"\n"
"TASK [Prevent kernel from being updated] ****************************************************************\n"
"changed: [192.168.1.11]\n"
"\n"
"TASK [Display locks] ************************************************************************************\n"
"ok: [192.168.1.11] => {\n"
"    \"locks.meta.packages\": [\n"
"        \"kernel\"\n"
"    ]\n"
"}\n"
"\n"
"PLAY RECAP **********************************************************************************************\n"
"192.168.1.11               : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
"\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:516
#, no-wrap
msgid "Creating your own collection"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:519
msgid ""
"As with roles, you are able to create your own collection with the help of "
"the `ansible-galaxy` command:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:520
#, no-wrap
msgid ""
"ansible-galaxy collection init rocky8.rockstarcollection\n"
"- Collection rocky8.rockstarcollection was created successfully\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:525
#, no-wrap
msgid ""
"tree rocky8/rockstarcollection/\n"
"rocky8/rockstarcollection/\n"
"칙춦춮칙춦칙춦 docs\n"
"칙춦춮칙춦칙춦 galaxy.yml\n"
"칙춦춮칙춦칙춦 plugins\n"
"칙춦축츽먞 칙춦춦칙춦칙춦 README.md\n"
"칙춦춮칙춦칙춦 README.md\n"
"칙춦춦칙춦칙춦 roles\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_ansible/04-ansible-galaxy.md:536
msgid ""
"You can then store your own plugins or roles inside this new collection."
msgstr ""

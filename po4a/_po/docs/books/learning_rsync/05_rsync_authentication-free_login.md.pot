# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-06-11 15:28+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: YAML Front Matter: title
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:1
#, no-wrap
msgid "rsync password-free authentication login"
msgstr ""

#. type: Title #
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:8
#, no-wrap
msgid "Foreword"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:11
msgid ""
"From [rsync Brief Description](01_rsync_overview.md) we know that rsync is "
"an incremental synchronization tool. Every time the `rsync` command is "
"executed, data can be synchronized once, but data cannot be synchronized in "
"real time. How to do it?"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:13
msgid ""
"With inotify-tools, this program tool can realize one-way real-time "
"synchronization. Since it is real-time data synchronization, the "
"prerequisite is to log in without password authentication."
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:15
#, no-wrap
msgid "**Regardless of whether it is rsync protocol or SSH protocol, both can achieve password-free authentication login.**\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:16
#, no-wrap
msgid "SSH protocol password-free authentication login"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:19
#, no-wrap
msgid "First, generate a public key and private key pair on the client, and keep pressing Enter after typing the command. The key pair is saved in the <font color=red>/root/.ssh/</font> directory\n"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:20
#, no-wrap
msgid ""
"[root@fedora ~]# ssh-keygen -t rsa -b 2048\n"
"Generating public/private rsa key pair.\n"
"Enter file in which to save the key (/root/.ssh/id_rsa):\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in /root/.ssh/id_rsa\n"
"Your public key has been saved in /root/.ssh/id_rsa.pub\n"
"The key fingerprint is:\n"
"SHA256: TDA3tWeRhQIqzTORLaqy18nKnQOFNDhoAsNqRLo1TMg root@fedora\n"
"The key's randomart image is:\n"
"+---[RSA 2048]----+\n"
"|O+. +o+o. .+. |\n"
"|BEo oo*....o. |\n"
"|*o+o..*.. ..o |\n"
"|.+..o. = o |\n"
"|o o S |\n"
"|. o |\n"
"| o +. |\n"
"|....=. |\n"
"| .o.o. |\n"
"+----[SHA256]-----+\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:45
msgid ""
"Then, use the `scp` command to upload the public key file to the server. For "
"example, I upload this public key to the user **testrsync**"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:46
#, no-wrap
msgid "[root@fedora ~]# scp -P 22 /root/.ssh/id_rsa.pub root@192.168.100.4:/home/testrsync/\n"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:50
#, no-wrap
msgid "[root@Rocky ~]# cat /home/testrsync/id_rsa.pub >> /home/testrsync/.ssh/authorized_keys\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:55
msgid "Try to log in without secret authentication, success!"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:56
#, no-wrap
msgid ""
"[root@fedora ~]# ssh -p 22 testrsync@192.168.100.4\n"
"Last login: Tue Nov 2 21:42:44 2021 from 192.168.100.5\n"
"[testrsync@Rocky ~]$\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:63
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:99
msgid "!!! tip \"tip\""
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:65
#, no-wrap
msgid "    The server configuration file **/etc/ssh/sshd_config** should be opened <font color=red>PubkeyAuthentication yes</font>\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:66
#, no-wrap
msgid "rsync protocol password-free authentication login"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:69
msgid ""
"On the client side, the rsync service prepares an environment variable for "
"the system-**RSYNC_PASSWORD**, which is empty by default, as shown below:"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:70
#, no-wrap
msgid ""
"[root@fedora ~]# echo \"$RSYNC_PASSWORD\"\n"
"\n"
"[root@fedora ~]#\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:77
#, no-wrap
msgid "If you want to achieve password-free authentication login, you only need to assign a value to this variable. The value assigned is the password previously set for the virtual user <font color=red>li</font>. At the same time, declare this variable as a global variable.\n"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:78
#, no-wrap
msgid ""
"[root@Rocky ~]# cat /etc/rsyncd_users.db\n"
"li:13579\n"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:83
#, no-wrap
msgid "[root@fedora ~]# export RSYNC_PASSWORD=13579\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:88
msgid ""
"Try it, success! No new files appear here, so the list of transferred files "
"is not displayed."
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:89
#, no-wrap
msgid ""
"[root@fedora ~]# rsync -avz li@192.168.100.4::share /root/\n"
"receiving incremental file list\n"
"./\n"
"\n"
"sent 30 bytes received 193 bytes 148.67 bytes/sec\n"
"total size is 883 speedup is 3.96\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/learning_rsync/05_rsync_authentication-free_login.md:100
#, no-wrap
msgid "    You can write this variable into **/etc/profile** to make it take effect permanently. The content is: `export RSYNC_PASSWORD=13579`\n"
msgstr ""

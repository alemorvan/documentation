# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-06-11 15:28+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title #
#: ../src/docs/books/admin_guide/06-users.md:1
#: ../src/docs/books/admin_guide/06-users.md:5
#, no-wrap
msgid "User Management"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:8
msgid "In this chapter you will learn how to manage users."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:11
#, no-wrap
msgid "**Objectives**: In this chapter, future Linux administrators will learn how to:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:18
#, no-wrap
msgid ""
":heavy_check_mark: add, delete or modify a **group**;   \n"
":heavy_check_mark: add, delete or modify a **user**;   \n"
":heavy_check_mark: understand the files associated with users and groups and learn how to manage them;   \n"
":heavy_check_mark: change the *owner* or the *group owner* of a file;   \n"
":heavy_check_mark: *secure* user accounts;   \n"
":heavy_check_mark: change identity.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:20
msgid ":checkered_flag: **users**"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:23
#, no-wrap
msgid ""
"**Knowledge**: :star: :star:   \n"
"**Complexity**: :star: :star:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:25
#, no-wrap
msgid "**Reading time**: 30 minutes\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:27
#, no-wrap
msgid "General"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:30
msgid ""
"Each user must have a group, which is called the user's **primary group**."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:32
msgid "Several users can be part of the same group."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:34
msgid ""
"Groups other than the primary group are called the user's **supplementary "
"groups**."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:36
#: ../src/docs/books/admin_guide/06-users.md:92
#: ../src/docs/books/admin_guide/06-users.md:220
#: ../src/docs/books/admin_guide/06-users.md:350
#: ../src/docs/books/admin_guide/06-users.md:598
#: ../src/docs/books/admin_guide/06-users.md:754
#: ../src/docs/books/admin_guide/06-users.md:818
msgid "!!! Note"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:38
#, no-wrap
msgid "    Each user has a primary group and can be invited into one or more supplementary groups.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:40
msgid ""
"Groups and users are managed by their unique numerical identifiers `GID` and "
"`UID`."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:43
msgid "`UID`: _User IDentifier_. Unique user ID."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:43
msgid "`GID`: _Group IDentifier_. Unique group identifier."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:45
msgid ""
"Both UID and GID are recognized by the kernel, which means that the Super "
"Admin is not necessarily the **root** user, as long as the **uid=0** user is "
"the Super Admin."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:47
msgid "The files related to users/groups are:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:55
msgid "/etc/passwd"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:55
msgid "/etc/shadow"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:55
msgid "/etc/group"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:55
msgid "/etc/gshadow"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:55
msgid "/etc/skel/"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:55
msgid "/etc/default/useradd"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:55
msgid "/etc/login.defs"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:57
#: ../src/docs/books/admin_guide/06-users.md:508
#: ../src/docs/books/admin_guide/06-users.md:524
msgid "!!! Danger"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:59
#, no-wrap
msgid "    You should always use the administration commands instead of manually editing the files.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:60
#, no-wrap
msgid "Group management"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:63
#: ../src/docs/books/admin_guide/06-users.md:266
msgid "Modified files, added lines:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:66
msgid "`/etc/group`"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:66
msgid "`/etc/gshadow`"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:67
#, no-wrap
msgid "`groupadd` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:70
msgid "The `groupadd` command adds a group to the system."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:70
#, no-wrap
msgid "groupadd [-f] [-g GID] group\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:75
#: ../src/docs/books/admin_guide/06-users.md:113
#: ../src/docs/books/admin_guide/06-users.md:141
#: ../src/docs/books/admin_guide/06-users.md:279
#: ../src/docs/books/admin_guide/06-users.md:344
#: ../src/docs/books/admin_guide/06-users.md:369
#: ../src/docs/books/admin_guide/06-users.md:392
#: ../src/docs/books/admin_guide/06-users.md:588
#: ../src/docs/books/admin_guide/06-users.md:656
#: ../src/docs/books/admin_guide/06-users.md:671
#: ../src/docs/books/admin_guide/06-users.md:740
#: ../src/docs/books/admin_guide/06-users.md:764
#: ../src/docs/books/admin_guide/06-users.md:782
msgid "Example:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:76
#, no-wrap
msgid "$ sudo groupadd -g 1012 GroupeB\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:85
#, no-wrap
msgid ""
"| Option  |\tDescription                   |\n"
"| --------| ----------------------------- |\n"
"|`-g GID` |\t`GID` of the group to create. |\n"
"|`-f` |\tThe system chooses a `GID` if the one specified by the `-g` option already exists. |\n"
"|`-r` |\tCreates a system group with a `GID` between `SYS_GID_MIN` and `SYS_GID_MAX`. These two variables are defined in `/etc/login.defs`. |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:87
msgid "Group naming rules:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:90
msgid "No accents or special characters;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:90
msgid "Different from the name of an existing user or system files."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:94
#, no-wrap
msgid "    Under **Debian**, the administrator should use, except in scripts intended to be portable to all Linux distributions, the `addgroup` and `delgroup` commands as specified in the `man`:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:103
#, no-wrap
msgid ""
"    ```\n"
"    $ man addgroup\n"
"    DESCRIPTION\n"
"    adduser and addgroup add users and groups to the system according to command line options and configuration information\n"
"    in /etc/adduser.conf. They are friendlier front ends to the low-level tools like useradd, groupadd and usermod programs,\n"
"    by default, choosing Debian policy conformant UID and GID values, creating a home directory with skeletal configuration,\n"
"    running a custom script, and other features.\n"
"    ```\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:104
#, no-wrap
msgid "Command `groupmod`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:107
msgid ""
"The `groupmod` command allows you to modify an existing group on the system."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:108
#, no-wrap
msgid "groupmod [-g GID] [-n nom] group\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:114
#, no-wrap
msgid ""
"$ sudo groupmod -g 1016 GroupP\n"
"$ sudo groupmod -n GroupC GroupB\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:123
msgid ""
"|Option |\tDescription | | ------| ----------- | |`-g GID` |\tNew `GID` of "
"the group to modify.  |`-n name` | New name."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:125
msgid ""
"It is possible to change the name of a group, its `GID` or both "
"simultaneously."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:127
msgid ""
"After modification, the files belonging to the group have an unknown `GID`. "
"They must be reassigned the new `GID`."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:128
#, no-wrap
msgid "$ sudo find / -gid 1002 -exec chgrp 1016 {} \\;\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:132
#, no-wrap
msgid "`groupdel` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:135
msgid ""
"The `groupdel` command is used to delete an existing group on the system."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:136
#, no-wrap
msgid "groupdel group\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:142
#, no-wrap
msgid "$ sudo groupdel GroupC\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:147
#: ../src/docs/books/admin_guide/06-users.md:170
#: ../src/docs/books/admin_guide/06-users.md:174
#: ../src/docs/books/admin_guide/06-users.md:201
#: ../src/docs/books/admin_guide/06-users.md:410
#: ../src/docs/books/admin_guide/06-users.md:465
#: ../src/docs/books/admin_guide/06-users.md:828
#: ../src/docs/books/admin_guide/06-users.md:946
msgid "!!! Tip"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:149
#, no-wrap
msgid "    When deleting a group, there are two conditions that can occur:\n"
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/books/admin_guide/06-users.md:152
msgid ""
"If a user has a unique primary group and you issue the `groupdel` command on "
"that group, you will be prompted that there is a specific user under the "
"group and it cannot be deleted."
msgstr ""

#. type: Bullet: '    * '
#: ../src/docs/books/admin_guide/06-users.md:152
msgid ""
"If a user belongs to a supplementary group (not the primary group for the "
"user) and that group is not the primary group for another user on the "
"system, then the `groupdel` command will delete the group without any "
"additional prompts."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:154
#, no-wrap
msgid "    Examples: \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:161
#, no-wrap
msgid ""
"    ```bash\n"
"    Shell > useradd testa\n"
"    Shell > id testa\n"
"    uid=1000(testa) gid=1000(testa) group=1000(testa)\n"
"    Shell > groupdel testa\n"
"    groupdel: cannot remove the primary group of user 'testa'\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:168
#, no-wrap
msgid ""
"    Shell > groupadd -g 1001 testb\n"
"    Shell > usermod -G testb root\n"
"    Shell > id root\n"
"    uid=0(root) gid=0(root) group=0(root),1001(testb)\n"
"    Shell > groupdel testb\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:172
#, no-wrap
msgid "    When you delete a user using the `userdel -r` command, the corresponding primary group is also deleted. The primary group name is usually the same as the username.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:176
#, no-wrap
msgid "    Each group has a unique `GID`. A group can be used by multiple users as a supplementary group. By convention, The GID of super administrator is 0. The GIDS reserved for some services or processes are 201~999, which are called system groups or pseudo user groups. The GID for users is usually greater than or equal to 1000. These are related to <font color=red>/etc/login.defs</font>, which we will talk about later.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:199
#, no-wrap
msgid ""
"    ```bash\n"
"    # Comment line ignored\n"
"    shell > cat  /etc/login.defs\n"
"    MAIL_DIR        /var/spool/mail\n"
"    UMASK           022\n"
"    HOME_MODE       0700\n"
"    PASS_MAX_DAYS   99999\n"
"    PASS_MIN_DAYS   0\n"
"    PASS_MIN_LEN    5\n"
"    PASS_WARN_AGE   7\n"
"    UID_MIN                  1000\n"
"    UID_MAX                 60000\n"
"    SYS_UID_MIN               201\n"
"    SYS_UID_MAX               999\n"
"    GID_MIN                  1000\n"
"    GID_MAX                 60000\n"
"    SYS_GID_MIN               201\n"
"    SYS_GID_MAX               999\n"
"    CREATE_HOME     yes\n"
"    USERGROUPS_ENAB yes\n"
"    ENCRYPT_METHOD SHA512\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:203
#, no-wrap
msgid "    Since a user is necessarily part of a group, it is best to create the groups before adding the users. Therefore, a group may not have any members.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:204
#, no-wrap
msgid "`/etc/group` file"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:207
msgid "This file contains the group information (separated by `:`)."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:208
#, no-wrap
msgid ""
"$ sudo tail -1 /etc/group\n"
"GroupP:x:516:patrick\n"
"  (1)  (2)(3)   (4)\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:218
#: ../src/docs/books/admin_guide/06-users.md:237
msgid "1: Name of the group."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:218
msgid ""
"2: The group password is identified by `x`. The group password is stored in "
"`/etc/gshadow`."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:218
msgid "3: GID."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:218
#: ../src/docs/books/admin_guide/06-users.md:237
msgid ""
"4: Supplementary users in the group (excluding the unique primary user)."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:222
#, no-wrap
msgid "   Each line in the `/etc/group` file corresponds to a group. The primary user info is stored in `/etc/passwd`.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:223
#, no-wrap
msgid "`/etc/gshadow` file"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:226
msgid ""
"This file contains the security information about the groups (separated by `:"
"`)."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:227
#, no-wrap
msgid ""
"$ sudo grep GroupA /etc/gshadow\n"
"GroupA:$6$2,9,v...SBn160:alain:rockstar\n"
"   (1)      (2)            (3)      (4)\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:237
msgid "2: Encrypted password."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:237
msgid "3: Name of the group administrator."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:239
#: ../src/docs/books/admin_guide/06-users.md:336
#: ../src/docs/books/admin_guide/06-users.md:770
msgid "!!! Warning"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:241
#, no-wrap
msgid "    The name of the group in **/etc/group** and **/etc/gshadow** must correspond one by one, that is, each line in the **/etc/group** file must have a corresponding line in the **/etc/gshadow** file.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:244
msgid ""
"An `!` in the password indicates that it is locked.  Thus, no user can use "
"the password to access the group (since group members do not need it)."
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:245
#, no-wrap
msgid "User management"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:247
#, no-wrap
msgid "Definition"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:250
msgid "A user is defined as follows in the `/etc/passwd` file:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:258
#: ../src/docs/books/admin_guide/06-users.md:487
msgid "1: Login name;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:258
#: ../src/docs/books/admin_guide/06-users.md:487
msgid ""
"2: Password identification, `x` indicates that the user has a password, the "
"encrypted password is stored in the second field of `/etc/shadow`;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:258
#: ../src/docs/books/admin_guide/06-users.md:487
msgid "3: UID;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:258
#: ../src/docs/books/admin_guide/06-users.md:487
msgid "4: GID of the primary group;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:258
#: ../src/docs/books/admin_guide/06-users.md:487
msgid "5: Comments;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:258
#: ../src/docs/books/admin_guide/06-users.md:487
msgid "6: Home directory;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:258
#: ../src/docs/books/admin_guide/06-users.md:487
msgid "7: Shell (`/bin/bash`, `/bin/nologin`, ...)."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:260
msgid "There are three types of users:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:264
msgid "**root(uid=0)**: the system administrator;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:264
msgid ""
"**system users(uid is one of the 201~999)**:\tUsed by the system to manage "
"application access rights;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:264
msgid "**regular user(uid>=1000)**:\tOther account to log in to the system."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:269
msgid "`/etc/passwd`"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:269
msgid "`/etc/shadow`"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:270
#, no-wrap
msgid "`useradd` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:273
msgid "The `useradd` command is used to add a user."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:274
#, no-wrap
msgid "useradd [-u UID] [-g GID] [-d directory] [-s shell] login\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:280
#, no-wrap
msgid "$ sudo useradd -u 1000 -g 1013 -d /home/GroupC/carine carine\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:295
#, no-wrap
msgid ""
"| Option        |\tDescription                                                        |\n"
"| --------------| ------------------------------------------------------------------ |\n"
"|`-u UID`       |\t`UID` of the user to create.                                       |\n"
"|`-g GID`       |\t`GID` of the primary group. The `GID` here can also be a `group name`.                                          |\n"
"|`-G GID1,[GID2]...`       |\t`GID` of the supplementary groups. The `GID` here can also be a `group name`. Multiple supplementary groups can be specified, separated by commas. |\n"
"|`-d directory` |\tHome directory.                                                    |\n"
"|`-s shell`     | Shell.                                                             |\n"
"|`-c COMMENT`           | Add a comment.                                                     |\n"
"|`-U`           | Adds the user to a group with the same name created simultaneously. If this option is not written by default, a group with the same name will be created when the user is created. |\n"
"|`-M`           | Do not create the user's home directory.                          |\n"
"|`-r`           | Create a system account. |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:297
msgid "At creation, the account has no password and is locked."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:299
msgid "A password must be assigned to unlock the account."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:301
msgid ""
"When invoking the `useradd` command without any options, the following "
"default settings are set for the new user:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:306
msgid "A home directory with the same name as the username is created;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:306
msgid "A primary group with the same name as the username is created;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:306
msgid "A default shell that points to `/bin/bash` is assigned to the user;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:306
msgid ""
"The user's UID and primary group GID values are automatically deduced. This "
"is usually a unique value between 1000 and 60,000."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:308
#: ../src/docs/books/admin_guide/06-users.md:644
msgid "!!! note"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:310
#, no-wrap
msgid "    The default settings and values are obtained from the following configuration files:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:312
#, no-wrap
msgid "    `/etc/login.defs` and `/etc/default/useradd`\n"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/admin_guide/06-users.md:313
#, no-wrap
msgid ""
"Shell > useradd test1\n"
"\n"
"Shell > tail -n 1 /etc/passwd\n"
"test1:x:1000:1000::/home/test1:/bin/bash\n"
"\n"
"Shell > tail -n 1 /etc/shadow\n"
"test1:!!:19253:0:99999:7:::\n"
"\n"
"Shell > tail -n 1 /etc/group ; tail -n 1 /etc/gshadow\n"
"test1:x:1000:\n"
"test1:!::\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:328
msgid "Account naming rules:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:334
msgid ""
"Lowercase letters, numbers and underscores are allowed, and other special "
"characters such as asterisks, percent signs, full-width symbols are not "
"accepted."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:334
msgid ""
"Although you can use an uppercase user name in RockyLinux, we do not "
"recommend it;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:334
msgid ""
"It is not recommended to start with numbers and underscores, although you "
"may be allowed to do so;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:334
msgid "Different from the name of an existing group or system file;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:334
msgid "The user name can contain up to 32 characters."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:338
#, no-wrap
msgid "    The home directory tree must be created except for the last directory.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:340
msgid ""
"The last directory is created by the `useradd` command, which takes the "
"opportunity to copy the files from `/etc/skel` into it."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:342
#, no-wrap
msgid "**A user can belong to several groups in addition to their primary group.**\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:345
#, no-wrap
msgid "$ sudo useradd -u 1000 -g GroupA -G GroupP,GroupC albert\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:352
#, no-wrap
msgid "    Under **Debian**, you will have to specify the `-m` option to force the creation of the login directory or set the `CREATE_HOME` variable in the `/etc/login.defs` file. In all cases, the administrator should use the `adduser` and `deluser` commands as specified in the `man`, except in scripts intended to be portable to all Linux distributions:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:359
#, no-wrap
msgid ""
"    ```\n"
"    $ man useradd\n"
"    DESCRIPTION\n"
"        **useradd** is a low-level utility for adding users. On Debian, administrators should usually use **adduser(8)**\n"
"         instead.\n"
"    ```\n"
msgstr ""

#. type: Title ####
#: ../src/docs/books/admin_guide/06-users.md:360
#, no-wrap
msgid "Default value for user creation."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:363
msgid "Modification of the file `/etc/default/useradd`."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:364
#, no-wrap
msgid "useradd -D [-b directory] [-g group] [-s shell]\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:370
#, no-wrap
msgid "$ sudo useradd -D -g 1000 -b /home -s /bin/bash\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:382
#, no-wrap
msgid ""
"| Option         | \tDescription                                                                 |\n"
"| -------------- | ---------------------------------------------------------------------------- |\n"
"| `-D`           | Sets the default values for user creation.                                   |\n"
"| `-b directory` | Sets the default login directory.                                            |\n"
"| `-g group`     | Sets the default group.                                                      |\n"
"| `-s shell`     | Sets the default shell.                                                      |\n"
"| `-f`           | The number of days after the password expires before the account is disabled.|\n"
"| `-e`           | The date the account will be disabled.                                       |\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:383
#, no-wrap
msgid "`usermod` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:386
msgid "The `usermod` command allows to modify a user."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:387
#, no-wrap
msgid "usermod [-u UID] [-g GID] [-d directory] [-m] login\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:393
#, no-wrap
msgid "$ sudo usermod -u 1044 carine\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:398
msgid "Options identical to the `useradd` command."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:408
#, no-wrap
msgid ""
"| Option         |\tDescription                                                                                  |\n"
"| -------------- | --------------------------------------------------------------------------------------------- |\n"
"|`-m`            | Associated with the `-d` option, moves the contents of the old login directory to the new one.If the old home directory does not exist, a new home directory will not be created; If the new home directory does not exist, it is created.|\n"
"|`-l login`      | New login name. After you modify the login name, you also need to modify the name of the home directory to match it.     |\n"
"|`-e YYYY-MM-DD` | Account expiration date.                                                                      |\n"
"|`-L`            | Permanently lock account. That is, an `!` is added at the beginning of the `/etc/shadow` password field     |\n"
"|`-U`            | Unlocks the account.                                                                          |\n"
"|`-a`            | Append the user's supplementary groups, which must be used together with the `-G` option.         |\n"
"|`-G`            | Modify the user's supplementary groups to overwrite the previous supplementary groups.        |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:412
#, no-wrap
msgid "    To be modified, a user must be disconnected and have no running processes.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:414
msgid ""
"After changing the identifier, the files belonging to the user have an "
"unknown `UID`. It must be reassigned to the new `UID`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:416
msgid ""
"Where `1000` is the old `UID` and `1044` is the new one. Examples are as "
"follows:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:417
#, no-wrap
msgid "$ sudo find / -uid 1000 -exec chown 1044: {} \\;\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:422
msgid "Locking and unlocking of user account, Examples are as follows:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:423
#, no-wrap
msgid ""
"Shell > usermod -L test1\n"
"Shell > grep test1 /etc/shadow\n"
"test1:!$6$n.hxglA.X5r7X0ex$qCXeTx.kQVmqsPLeuvIQnNidnSHvFiD7bQTxU7PLUCmBOcPNd5meqX6AEKSQvCLtbkdNCn.re2ixYxOeGWVFI0:19259:0:99999:7:::\n"
"\n"
"Shell > usermod -U test1\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:432
msgid ""
"The difference between the `-aG` option and the `-G` option can be explained "
"by the following example:"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/admin_guide/06-users.md:433
#, no-wrap
msgid ""
"Shell > useradd test1\n"
"Shell > passwd test1\n"
"Shell > groupadd groupA ; groupadd groupB ; groupadd groupC ; groupadd groupD\n"
"Shell > id test1\n"
"uid=1000(test1) gid=1000(test1) groups=1000(test1)\n"
"\n"
"Shell > gpasswd -a test1 groupA\n"
"Shell > id test1\n"
"uid=1000(test1) gid=1000(test1) groups=1000(test1),1002(groupA)\n"
"\n"
"Shell > usermod -G groupB,groupC test1\n"
"Shell > id test1 \n"
"uid=1000(test1) gid=1000(test1) gorups=1000(test1),1003(groupB),1004(groupC)\n"
"\n"
"Shell > usermod -aG groupD test1\n"
"uid=1000(test1) gid=1000(test1) groups=1000(test1),1003(groupB),1004(groupC),1005(groupD)\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:452
#, no-wrap
msgid "`userdel` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:455
msgid "The `userdel` command allows you to delete a user's account."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:456
#, no-wrap
msgid "$ sudo userdel -r carine\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:463
#, no-wrap
msgid ""
"| Option |\tDescription                                              |\n"
"| -------| --------------------------------------------------------- |\n"
"| `-r`   | Delete the user's home directory and mail files located in the `/var/spool/mail/` directory |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:467
#, no-wrap
msgid "    To be deleted, a user must be logged out and have no running processes.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:469
msgid ""
"The `userdel` command removes the corresponding lines in `/etc/passwd`, `/ "
"etc/shadow`, `/etc/group`, `/etc/gshadow`. As mentioned above, `userdel -r` "
"will also delete the corresponding primary group of the user."
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:470
#, no-wrap
msgid "`/etc/passwd` file"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:473
msgid "This file contains user information (separated by `:`)."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:474
#, no-wrap
msgid ""
"$ sudo head -1 /etc/passwd\n"
"root:x:0:0:root:/root:/bin/bash\n"
"(1)(2)(3)(4)(5)  (6)    (7)\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:488
#, no-wrap
msgid "`/etc/shadow` file"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:491
msgid "This file contains the users' security information (separated by `:`)."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:491
#, no-wrap
msgid ""
"$ sudo tail -1 /etc/shadow\n"
"root:$6$...:15399:0:99999:7:::\n"
" (1)    (2)  (3) (4) (5) (6)(7,8,9)\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:500
msgid "1: Login name."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:500
msgid ""
"2: Encrypted password. Uses the SHA512 encryption algorithm, defined by the "
"`ENCRYPT_METHOD` of `/etc/login.defs`."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:500
msgid ""
"3: The time when the password was last changed, the timestamp format, in "
"days. The so-called timestamp is based on January 1, 1970 as the standard "
"time. Every time one day goes by, the timestamp is +1."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:500
msgid ""
"4: Minimum lifetime of the password. That is, the time interval between two "
"password changes (related to the third field), in days.  Defined by the "
"`PASS_MIN_DAYS` of `/etc/login.defs`, the default is 0, that is, when you "
"change the password for the second time, there is no restriction. However, "
"if it is 5, it means that it is not allowed to change the password within 5 "
"days, and only after 5 days."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:503
msgid ""
"5: Maximum lifetime of the password. That is, the validity period of the "
"password (related to the third field). Defined by the `PASS_MAX_DAYS` of `/"
"etc/login.defs`."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:503
msgid ""
"6: The number of warning days before the password expires (related to the "
"fifth field). The default is 7 days, defined by the `PASS_WARN_AGE` of `/etc/"
"login.defs`."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:503
msgid ""
"7: Number of days of grace after password expiration (related to the fifth "
"field)."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:506
msgid ""
"8: Account expiration time, the timestamp format, in days. **Note that an "
"account expiration differs from a password expiration. In case of an account "
"expiration, the user shall not be allowed to login. In case of a password "
"expiration, the user is not allowed to login using her password.**"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:506
msgid "9: Reserved for future use."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:510
#, no-wrap
msgid "    For each line in the `/etc/passwd` file there must be a corresponding line in the `/etc/shadow` file.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:512
msgid ""
"For time stamp and date conversion, please refer to the following command "
"format:"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/admin_guide/06-users.md:513
#, no-wrap
msgid ""
"# The timestamp is converted to a date, \"17718\" indicates the timestamp to be filled in.\n"
"Shell > date -d \"1970-01-01 17718 days\" \n"
"\n"
"# The date is converted to a timestamp, \"2018-07-06\" indicates the date to be filled in.\n"
"Shell > echo $(($(date --date=\"2018-07-06\" +%s)/86400+1))\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:521
#, no-wrap
msgid "File owners"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:526
#, no-wrap
msgid "    All files necessarily belong to one user and one group.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:528
msgid ""
"The primary group of the user creating the file is, by default, the group "
"that owns the file."
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:529
#, no-wrap
msgid "Modification commands"
msgstr ""

#. type: Title ####
#: ../src/docs/books/admin_guide/06-users.md:531
#, no-wrap
msgid "`chown` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:534
msgid "The `chown` command allows you to change the owners of a file."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:534
#, no-wrap
msgid "chown [-R] [-v] login[:group] file\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:539
#: ../src/docs/books/admin_guide/06-users.md:622
#: ../src/docs/books/admin_guide/06-users.md:719
#: ../src/docs/books/admin_guide/06-users.md:798
#: ../src/docs/books/admin_guide/06-users.md:930
msgid "Examples:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:539
#, no-wrap
msgid ""
"$ sudo chown root myfile\n"
"$ sudo chown albert:GroupA myfile\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:548
#, no-wrap
msgid ""
"| Option |\tDescription                                           |\n"
"| ------ | ------------------------------------------------------ |\n"
"| `-R`   |\tRecursively changes the owners of the directory and all files under the directory.|\n"
"| `-v`   |\tDisplays the executed changes.                        |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:550
msgid "To change only the owner user:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:551
#, no-wrap
msgid "$ sudo chown albert file\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:556
msgid "To modify only the owner group:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:557
#, no-wrap
msgid "$ sudo chown :GroupA file\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:562
msgid "Changing the user and owner group:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:563
#, no-wrap
msgid "$ sudo chown albert:GroupA file\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:568
msgid ""
"In the following example the group assigned will be the primary group of the "
"specified user."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:569
#, no-wrap
msgid "$ sudo chown albert: file\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:574
msgid "Change the owner and group of all files in a directory"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:575
#, no-wrap
msgid "$ sudo chown -R albert:GroupA /dir1\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:579
#, no-wrap
msgid "`chgrp` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:582
msgid "The `chgrp` command allows you to change the owner group of a file."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:583
#, no-wrap
msgid "chgrp [-R] [-v] group file\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:588
#, no-wrap
msgid "$ sudo chgrp group1 file\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:596
#, no-wrap
msgid ""
"| Option | Description                                                              |\n"
"| ------ | ------------------------------------------------------------------------ |\n"
"| `-R`   | Recursively changes the groups of the directory and all files under the directory. |\n"
"| `-v`   | Displays the executed changes.                                           |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:600
#, no-wrap
msgid "    It is possible to apply to a file an owner and an owner group by taking as reference those of another file:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:601
#, no-wrap
msgid "chown [options] --reference=RRFILE FILE\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:606
msgid "For example:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:607
#, no-wrap
msgid "chown --reference=/etc/groups /etc/passwd\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:611
#, no-wrap
msgid "Guest management"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:613
#, no-wrap
msgid "`gpasswd` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:616
msgid "The command `gpasswd` allows to manage a group."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:617
#, no-wrap
msgid "gpasswd [option] group\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:623
#, no-wrap
msgid ""
"$ sudo gpasswd -A alain GroupA\n"
"[alain]$ gpasswd -a patrick GroupA\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:634
#, no-wrap
msgid ""
"| Option        |\tDescription                         |\n"
"| ----------    | ------------------------------------ |\n"
"| `-a USER`     | Adds the user to the group. For the added user, this group is a supplementary group. |\n"
"| `-A USER,...` | Set the list of administrative users.       |\n"
"| `-d USER`     | Remove the user from the group.     |\n"
"| `-M USER,...` | Set the list of group members.|\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:636
msgid "The command `gpasswd -M` acts as a modification, not an addition."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:637
#, no-wrap
msgid ""
"# gpasswd GroupeA\n"
"New Password:\n"
"Re-enter new password:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:646
#, no-wrap
msgid "    In addition to using `gpasswd -a` to add users to a group, you can also use the `usermod -G` or `usermod -AG` mentioned earlier.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:647
#, no-wrap
msgid "`id` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:650
msgid "The `id` command displays the group names of a user."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:651
#, no-wrap
msgid "id USER\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:657
#, no-wrap
msgid ""
"$ sudo id alain\n"
"uid=1000(alain) gid=1000(GroupA) groupes=1000(GroupA),1016(GroupP)\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:662
#, no-wrap
msgid "`newgrp` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:665
msgid ""
"The `newgrp` command can select a group from the user's supplementary groups "
"as the user's new **temporary** primary group. The `newgrp` command every "
"time you switch a user's primary group, there will be a new **child "
"shell**ï¼child process). Be careful! **child shell** and **sub shell** are "
"different."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:666
#, no-wrap
msgid "newgrp [secondarygroups]\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:672
#, no-wrap
msgid ""
"Shell > useradd test1\n"
"Shell > passwd test1\n"
"Shell > groupadd groupA ; groupadd groupB \n"
"Shell > usermod -G groupA,groupB test1\n"
"Shell > id test1\n"
"uid=1000(test1) gid=1000(test1) groups=1000(test1),1001(groupA),1002(groupB)\n"
"Shell > echo $SHLVL ; echo $BASH_SUBSHELL\n"
"1\n"
"0\n"
"\n"
"Shell > su - test1\n"
"Shell > touch a.txt\n"
"Shell > ll\n"
"-rw-rw-r-- 1 test1 test1 0 10æ  7 14:02 a.txt\n"
"Shell > echo $SHLVL ; echo $BASH_SUBSHELL\n"
"1\n"
"0\n"
"\n"
"# Generate a new child shell\n"
"Shell > newgrp groupA\n"
"Shell > touch b.txt\n"
"Shell > ll\n"
"-rw-rw-r-- 1 test1 test1  0 10æ  7 14:02 a.txt\n"
"-rw-r--r-- 1 test1 groupA 0 10æ  7 14:02 b.txt\n"
"Shell > echo $SHLVL ; echo $BASH_SUBSHELL\n"
"2\n"
"0\n"
"\n"
"# You can exit the child shell using the `exit` command\n"
"Shell > exit\n"
"Shell > logout\n"
"Shell > whoami\n"
"root\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:708
#, no-wrap
msgid "Securing"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:710
#, no-wrap
msgid "`passwd` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:713
msgid "The `passwd` command is used to manage a password."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:714
#, no-wrap
msgid "passwd [-d] [-l] [-S] [-u] [login]\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:720
#, no-wrap
msgid ""
"Shell > passwd -l albert\n"
"Shell > passwd -n 60 -x 90 -w 80 -i 10 patrick\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:736
#, no-wrap
msgid ""
"| Option | Description                                            |\n"
"| ------ | ------------------------------------------------------ |\n"
"| `-d` | Permanently removes the password. For root (uid=0) use only.         |\n"
"| `-l` | Permanently lock user account. For root (uid=0) use only.            |\n"
"| `-S` | Displays the account status. For root (uid=0) use only.  |\n"
"| `-u` | Permanently unlocks user account. For root (uid=0) use only.          |\n"
"| `-e` | Permanently expires the password. For root (uid=0) use only.         |\n"
"| `-n DAYS` | Minimum password lifetime. Permanent change. For root (uid=0) use only. |\n"
"| `-x DAYS` | Maximum password lifetime. Permanent change. For root (uid=0) use only. |\n"
"| `-w DAYS` | Warning time before expiration. Permanent change. For root (uid=0) use only. |\n"
"| `-i DAYS` | Delay before deactivation when the password expires. Permanent change. For root (uid=0) use only.|\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:738
msgid ""
"Use `password -l`, that is, add \"!!\" at the beginning of the password "
"field of the user corresponding to `/etc/shadow`."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:742
msgid "Alain changes his password:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:743
#, no-wrap
msgid "[alain]$ passwd\n"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:748
msgid "root changes Alain's password"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:749
#, no-wrap
msgid "$ sudo passwd alain\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:756
#, no-wrap
msgid "    The `passwd` command is available to users to change their password (the old password is requested). The administrator can change the passwords of all users without restriction.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:758
msgid "They will have to comply with the security restrictions."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:760
msgid ""
"When managing user accounts by shell script, it may be useful to set a "
"default password after creating the user."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:762
msgid "This can be done by passing the password to the `passwd` command."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:765
#, no-wrap
msgid "$ sudo echo \"azerty,1\" | passwd --stdin philippe\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:772
#, no-wrap
msgid "    The password is entered in clear text, `passwd` takes care of encrypting it.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:773
#, no-wrap
msgid "`chage` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:776
msgid "The `chage` command is change user password expiry information."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:777
#, no-wrap
msgid "chage [-d date] [-E date] [-I days] [-l] [-m days] [-M days] [-W days] [login]\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:783
#, no-wrap
msgid "$ sudo chage -m 60 -M 90 -W 80 -I 10 alain\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:796
#, no-wrap
msgid ""
"| Option | Description                                    |\n"
"| ------ | ---------------------------------------------- |\n"
"| `-I DAYS` | Delay before deactivation, password expired. Permanent change.|\n"
"| `-l`      | Displays the policy details.                |\n"
"| `-m DAYS` | Minimum lifetime of the password. Permanent change.          |\n"
"| `-M DAYS` | Maximum lifetime of the password. Permanent change.          |\n"
"| `-d LAST_DAY` | Last password change. You can use the days' timestamp style or the YYYY-MM-DD style. Permanent change.                |\n"
"| `-E EXPIRE_DATE` | Account expiration date. You can use the days' timestamp style or the YYYY-MM-DD style. Permanent change.             |\n"
"| `-W WARN_DAYS` | Warning time before expiration. Permanent change.            |\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:799
#, no-wrap
msgid ""
"# The `chage` command also offers an interactive mode.\n"
"$ sudo chage philippe\n"
"\n"
"# The `-d` option forces the password to be changed at login.\n"
"$ sudo chage -d 0 philippe\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:808
msgid "![User account management with chage](images/chage-timeline.png)"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:809
#, no-wrap
msgid "Advanced management"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:812
msgid "Configuration files:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:816
msgid "`/etc/default/useradd`"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:816
msgid "`/etc/login.defs`"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:816
msgid "`/etc/skel`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:820
#, no-wrap
msgid "    Editing the `/etc/default/useradd` file is done with the `useradd` command.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:822
#, no-wrap
msgid "    The other files are to be modified with a text editor.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:823
#, no-wrap
msgid "`/etc/default/useradd` file"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:826
msgid "This file contains the default data settings."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:830
#, no-wrap
msgid "    When creating a user, if the options are not specified, the system uses the default values defined in `/etc/default/useradd`.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:832
msgid ""
"This file is modified by the command `useradd -D` (`useradd -D` entered "
"without any other option displays the contents of the `/etc/default/useradd` "
"file)."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:833
#, no-wrap
msgid ""
"Shell > grep -v ^# /etc/default/useradd \n"
"GROUP=100\n"
"HOME=/home\n"
"INACTIVE=-1\n"
"EXPIRE=\n"
"SHELL=/bin/bash\n"
"SKEL=/etc/skel\n"
"CREATE_MAIL_SPOOL=yes\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:853
#, no-wrap
msgid ""
"| Parameters | Comment                                                                  |\n"
"| ---------- | ------------------------------------------------------------------------ |\n"
"| `GROUP`    | Default primary group GID.                                               |\n"
"| `HOME`     | Define the directory path of the upper level of the common user's home directory.      |\n"
"| `INACTIVE` | Number of days of grace after password expiration. Corresponds to the 7th field of the `/etc/shadow` file. `-1` value means that the grace period feature is turned off.|\n"
"| `EXPIRE`   | Account expiration date. Corresponds to the 8th field of the `/etc/shadow` file.                                                |\n"
"| `SHELL`    | Command interpreter.                                                     |\n"
"| `SKEL`     | Skeleton directory of the login directory.                               |\n"
"| `CREATE_MAIL_SPOOL` |\tMailbox creation in `/var/spool/mail/`.                          |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:855
msgid ""
"If you do not need a primary group with the same name when creating users, "
"you can do this:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:856
#, no-wrap
msgid ""
"Shell > useradd -N test2\n"
"Shell > id test2\n"
"uid=1001(test2) gid=100(users) groups=100(users)\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:862
#, no-wrap
msgid "`/etc/login.defs` file"
msgstr ""

#. type: Fenced code block (bash)
#: ../src/docs/books/admin_guide/06-users.md:864
#, no-wrap
msgid ""
"# Comment line ignored\n"
"shell > cat  /etc/login.defs\n"
"MAIL_DIR        /var/spool/mail\n"
"UMASK           022\n"
"HOME_MODE       0700\n"
"PASS_MAX_DAYS   99999\n"
"PASS_MIN_DAYS   0\n"
"PASS_MIN_LEN    5\n"
"PASS_WARN_AGE   7\n"
"UID_MIN                  1000\n"
"UID_MAX                 60000\n"
"SYS_UID_MIN               201\n"
"SYS_UID_MAX               999\n"
"GID_MIN                  1000\n"
"GID_MAX                 60000\n"
"SYS_GID_MIN               201\n"
"SYS_GID_MAX               999\n"
"CREATE_HOME     yes\n"
"USERGROUPS_ENAB yes\n"
"ENCRYPT_METHOD SHA512\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:888
#, no-wrap
msgid "`UMASK 022`: This means that the permission to create a file is 755 (rwxr-xr-x). However, for the sake of security, GNU/Linux does not have **x** permission for newly created files, this restriction applies to root(uid=0) and ordinary users(uid>=1000). For example:\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:889
#, no-wrap
msgid ""
"Shell > touch a.txt\n"
"Shell > ll\n"
"-rw-r--r-- 1 root root     0 Oct  8 13:00 a.txt\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:896
msgid ""
"`HOME_MODE 0700`: The permissions of an ordinary user's home directory. Does "
"not work for root's home directory."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:897
#, no-wrap
msgid ""
"Shell > ll -d /root\n"
"dr-xr-x---. 10 root root 4096 Oct  8 13:12 /root\n"
"\n"
"Shell > ls -ld /home/test1/\n"
"drwx------ 2 test1 test1 4096 Oct  8 13:10 /home/test1/\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:906
msgid ""
"`USERGROUPS_ENAB yes`: \"When you delete a user using the `userdel -r` "
"command, the corresponding primary group is also deleted.\" Why? That's the "
"reason."
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:907
#, no-wrap
msgid "`/etc/skel` directory"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:910
msgid ""
"When a user is created, their home directory and environment files are "
"created. You can think of the files in the `/etc/skel/` directory as the "
"file templates you need to create users."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:912
msgid "These files are automatically copied from the `/etc/skel` directory."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:916
msgid "`.bash_logout`"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:916
msgid "`.bash_profile`"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/06-users.md:916
msgid "`.bashrc`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:918
msgid ""
"All files and directories placed in this directory will be copied to the "
"user tree when they are created."
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/06-users.md:919
#, no-wrap
msgid "Identity change"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/06-users.md:921
#, no-wrap
msgid "`su` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:924
msgid ""
"The `su` command allows you to change the identity of the connected user."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:925
#, no-wrap
msgid "su [-] [-c command] [login]\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:931
#, no-wrap
msgid ""
"$ sudo su - alain\n"
"[albert]$ su - root -c \"passwd alain\"\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:940
#, no-wrap
msgid ""
"| Option | Description                                           |\n"
"| ------ | ----------------------------------------------------- |\n"
"| `-` |\tLoads the user's complete environment.                   |\n"
"| `-c` command |\tExecutes the command under the user's identity.|\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:942
msgid "If the login is not specified, it will be `root`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:944
msgid "Standard users will have to type the password for the new identity."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:948
#, no-wrap
msgid "    You can use the `exit`/`logout` command to exit users who have been switched. It should be noted that after switching users, there is no new `child shell` or `sub shell`, for example:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:955
#, no-wrap
msgid ""
"    ```\n"
"    Shell > whoami\n"
"    root\n"
"    Shell > echo $SHLVL ; echo $BASH_SUBSHELL\n"
"    1\n"
"    0\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:961
#, no-wrap
msgid ""
"    Shell > su - test1\n"
"    Shell > echo $SHLVL ; echo $BASH_SUBSHELL\n"
"    1\n"
"    0\n"
"    ```\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:963
msgid ""
"Attention please! `su` and `su -` are different, as shown in the following "
"example:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:964
#, no-wrap
msgid ""
"Shell > whoami\n"
"test1\n"
"Shell > su root\n"
"Shell > pwd\n"
"/home/test1\n"
"\n"
"Shell > env\n"
"...\n"
"USER=test1\n"
"PWD=/home/test1\n"
"HOME=/root\n"
"MAIL=/var/spool/mail/test1\n"
"LOGNAME=test1\n"
"...\n"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/06-users.md:981
#, no-wrap
msgid ""
"Shell > whoami\n"
"test1\n"
"Shell > su - root\n"
"Shell > pwd\n"
"/root\n"
"\n"
"Shell > env\n"
"...\n"
"USER=root\n"
"PWD=/root\n"
"HOME=/root\n"
"MAIL=/var/spool/mail/root\n"
"LOGNAME=root\n"
"...\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/06-users.md:998
msgid ""
"So, when you want to switch users, remember not to lose the `-`. Because the "
"necessary environment variable files are not loaded, there may be problems "
"running some programs."
msgstr ""

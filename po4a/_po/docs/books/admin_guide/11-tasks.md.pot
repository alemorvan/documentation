# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-06-11 15:28+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title #
#: ../src/docs/books/admin_guide/11-tasks.md:1
#: ../src/docs/books/admin_guide/11-tasks.md:5
#, no-wrap
msgid "Task Management"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:8
msgid "In this chapter you will learn how to manage scheduled tasks."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:12
#, no-wrap
msgid "**Objectives**: In this chapter, future Linux administrators will learn how to:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:16
#, no-wrap
msgid ""
":heavy_check_mark: Linux deals with the tasks scheduling;   \n"
":heavy_check_mark: restrict the use of **`cron`** to certain users;   \n"
":heavy_check_mark: schedule tasks.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:18
msgid ":checkered_flag: **crontab**, **crond**, **scheduling**, **linux**"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:19
#, no-wrap
msgid "**Knowledge**: :star: :star:  \n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:21
#, no-wrap
msgid "**Complexity**: :star: :star:\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:23
#, no-wrap
msgid "**Reading time**: 15 minutes\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/11-tasks.md:26
#, no-wrap
msgid "Generalities"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:29
msgid ""
"The scheduling of tasks is managed with the `cron` utility. It allows the "
"periodic execution of tasks."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:31
msgid ""
"It is reserved to the administrator for system tasks but can be used by "
"normal users for tasks or scripts that they have access to. To access the "
"`cron` utility, we use: `crontab`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:33
msgid "The `cron` service is used for:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:38
msgid "Repetitive administration operations;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:38
msgid "Backups;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:38
msgid "Monitoring of system activity;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:38
msgid "Program execution."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:40
msgid ""
"`crontab` is short for **cron table**, but can be thought of as a task "
"scheduling table."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:42
#: ../src/docs/books/admin_guide/11-tasks.md:81
#: ../src/docs/books/admin_guide/11-tasks.md:93
#: ../src/docs/books/admin_guide/11-tasks.md:153
#: ../src/docs/books/admin_guide/11-tasks.md:203
msgid "!!! Warning"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:44
#, no-wrap
msgid "    To set up a schedule, the system must have the correct time set.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/11-tasks.md:45
#, no-wrap
msgid "How the service works"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:48
msgid "The `cron` service is run by a `crond` daemon present in memory."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:50
msgid "To check its status:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:51
#, no-wrap
msgid "[root] # systemctl status crond\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:56
msgid "!!! Tip"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:58
#, no-wrap
msgid "    If the `crond` daemon is not running, you will have to initialize it manually and/or automatically at startup. Indeed, even if tasks are scheduled, they will not be launched.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:60
msgid "Initialization of the `crond` daemon in manual:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:61
#, no-wrap
msgid "[root]# systemctl {status|start|restart|stop} crond\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:66
msgid "Initialization of the `crond` daemon at startup:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:67
#, no-wrap
msgid "[root]# systemctl enable crond\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/11-tasks.md:71
#, no-wrap
msgid "Security"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:74
msgid ""
"In order to implement a schedule, a user must have permission to use the "
"`cron` service."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:76
msgid ""
"This permission varies according to the information contained in the files "
"below:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:79
msgid "`/etc/cron.allow`"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:79
msgid "`/etc/cron.deny`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:83
#, no-wrap
msgid "    If neither file is present, all users can use `cron`.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/11-tasks.md:84
#, no-wrap
msgid "The `cron.allow` and `cron.deny` Files"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:87
msgid "File `/etc/cron.allow`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:89
msgid "Only users contained in this file are allowed to use `cron`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:91
msgid "If it exists and is empty, no users can use `cron`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:95
#, no-wrap
msgid "    If `cron.allow` is present, `cron.deny` is **ignored**.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:97
msgid "File `/etc/cron.deny`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:99
msgid "Users in this file are not allowed to use `cron`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:101
msgid "If it is empty, all users can use `cron`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:103
msgid ""
"By default, `/etc/cron.deny` exists and is empty and `/etc/cron.allow` does "
"not exist."
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/11-tasks.md:104
#, no-wrap
msgid "Allowing a user"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:107
msgid "Only **user1** will be able to use `cron`."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:108
#, no-wrap
msgid ""
"[root]# vi /etc/cron.allow\n"
"user1\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/11-tasks.md:113
#, no-wrap
msgid "Prohibit a user"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:115
msgid "Only **user2** will not be able to use `cron`."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:116
#, no-wrap
msgid ""
"[root]# vi /etc/cron.deny\n"
"user2\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:122
msgid "`cron.allow` must not be present."
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/11-tasks.md:123
#, no-wrap
msgid "Scheduling tasks"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:126
msgid ""
"When a user schedules a task, a file with his name is created under `/var/"
"spool/cron/`."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:128
msgid ""
"This file contains all the information the `crond` needs to know regarding "
"all tasks created by this user, the commands or programs to run, and when to "
"run them (hour, minute, day ...)."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:130
msgid "![Cron tree](images/tasks-001.png)"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/11-tasks.md:131
#, no-wrap
msgid "The `crontab` command"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:134
msgid "The `crontab` command is used to manage the schedule file."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:135
#, no-wrap
msgid "crontab [-u user] [-e | -l | -r]\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:140
msgid "Example:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:141
#, no-wrap
msgid "[root]# crontab -u user1 -e\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:151
#, no-wrap
msgid ""
"| Option |\tDescription                                              |\n"
"|--------|-----------------------------------------------------------|\n"
"| `-e`   | Edit the schedule file with vi                            |\n"
"| `-l`   | Displays the contents of the schedule file                |\n"
"| `-u`   | Name of the user whose schedule file is to be manipulated |\n"
"| `-r`   | Delete the schedule file                                  |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:155
#, no-wrap
msgid "    `crontab` without option deletes the old schedule file and waits for the user to enter new lines. You have to press <kbd>ctrl</kbd> + <kbd>d</kbd> to exit this editing mode.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:157
#, no-wrap
msgid "    Only `root` can use the `-u user` option to manage another user's schedule file.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:159
#, no-wrap
msgid "    The example above allows root to schedule a task for user1.\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/11-tasks.md:160
#, no-wrap
msgid "Uses of `crontab`"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:163
msgid "The uses of `crontab` are many and include:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:166
msgid "Modifications to the `crontab` files taken into account immediately;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:166
msgid "No need to restart."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:168
msgid "On the other hand, the following points must be taken into account:"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:172
msgid "The program must be autonomous;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:172
msgid "Provide redirections (stdin, stdout, stderr);"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:172
msgid ""
"It is not relevant to run commands that use input/output requests on a "
"terminal."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:174
msgid "!!! Note"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:176
#, no-wrap
msgid "    It is important to understand that the purpose of scheduling is to perform tasks automatically, without the need for external intervention.\n"
msgstr ""

#. type: Title ##
#: ../src/docs/books/admin_guide/11-tasks.md:177
#, no-wrap
msgid "The `crontab` file"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:180
msgid "The `crontab` file is structured according to the following rules."
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:186
msgid "Each line of this file corresponds to a schedule;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:186
msgid "Each line has six fields, 5 for the time and 1 for the order;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:186
msgid "Each field is separated by a space or a tab;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:186
msgid "Each line ends with a carriage return;"
msgstr ""

#. type: Bullet: '* '
#: ../src/docs/books/admin_guide/11-tasks.md:186
msgid "A `#` at the beginning of the line comments it."
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:187
#, no-wrap
msgid ""
"[root]# crontab âe\n"
"10 4 1 * * /root/scripts/backup.sh\n"
"1  2 3 4 5       6\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:201
#, no-wrap
msgid ""
"| Field | Description         | Detail                   |\n"
"|-------|---------------------|--------------------------|\n"
"| 1     | Minute(s)           | From 0 to 59             |\n"
"| 2     | Hour(s)             | From 0 to 23             |\n"
"| 3     | Day(s) of the month | From 1 to 31             |\n"
"| 4     | Month of the year   | From 1 to 12             |\n"
"| 5     | Day(s) of the week  | From 0 to 7 (0=7=sunday) |\n"
"| 6     | Task to execute     | Full command or script   |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:205
#, no-wrap
msgid "    The tasks to be executed must use absolute paths and if possible, use redirects.\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:207
msgid ""
"In order to simplify the notation for the definition of time, it is "
"advisable to use special symbols."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:214
#, no-wrap
msgid ""
"| Wildcards | Description                      |\n"
"|---------------|----------------------------------|\n"
"| `*`           | All possible values of the field |\n"
"| `-`           | Indicates a range of values      |\n"
"| `,`           | Indicates a list of values       |\n"
"| `/`           | Defines a step                   |\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:216
msgid "Examples:"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:218
msgid "Script executed on April 15 at 10:25 am:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:219
#, no-wrap
msgid "25 10 15 04 * /root/scripts/script > /log/â¦\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:224
msgid "Run at 11am and then at 4pm every day:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:225
#, no-wrap
msgid "00 11,16 * * * /root/scripts/script > /log/â¦\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:230
msgid "Run every hour from 11am to 4pm every day:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:231
#, no-wrap
msgid "00 11-16 * * * /root/scripts/script > /log/â¦\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:236
msgid "Run every 10 minutes during working hours:"
msgstr ""

#. type: Fenced code block
#: ../src/docs/books/admin_guide/11-tasks.md:237
#, no-wrap
msgid "*/10 8-17 * * 1-5 /root/scripts/script > /log/â¦\n"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:242
msgid "For the root user, `crontab` also has some special time settings:"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:251
#, no-wrap
msgid ""
"| Setting  | Description                   |\n"
"|----------|-------------------------------|\n"
"| @reboot  | Run command on system reboot  |\n"
"| @hourly  | Run command every hour        |\n"
"| @daily   | Runs daily just after midnight|\n"
"| @weekly  | Runs command every Sunday just after midnight    |\n"
"| @monthly | Runs command on the first day of the month just after midnight |\n"
"| @annually| Runs January 1st just after midnight |\n"
msgstr ""

#. type: Title ###
#: ../src/docs/books/admin_guide/11-tasks.md:252
#, no-wrap
msgid "Task execution process"
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:255
msgid "A user, rockstar, wants to edit his `crontab` file:"
msgstr ""

#. type: Bullet: '1) '
#: ../src/docs/books/admin_guide/11-tasks.md:257
msgid ""
"`crond` checks to see if he is allowed (`/etc/cron.allow` and `/etc/cron."
"deny`)."
msgstr ""

#. type: Bullet: '2) '
#: ../src/docs/books/admin_guide/11-tasks.md:259
msgid "If he is, he accesses his `crontab` file (`/var/spool/cron/rockstar`)."
msgstr ""

#. type: Plain text
#: ../src/docs/books/admin_guide/11-tasks.md:261
msgid "Every minute `crond` reads the schedule files."
msgstr ""

#. type: Bullet: '3) '
#: ../src/docs/books/admin_guide/11-tasks.md:263
msgid "It executes the scheduled tasks."
msgstr ""

#. type: Bullet: '4) '
#: ../src/docs/books/admin_guide/11-tasks.md:264
msgid "It reports systematically in a log file (`/var/log/cron`)."
msgstr ""
